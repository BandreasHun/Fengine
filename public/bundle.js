(()=>{"use strict";function e(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function t(e){return null!=e&&"function"==typeof e.GetHashCode}function n(e){(function(e){return null!=e&&"function"==typeof e.Dispose})(e)&&e.Dispose()}function r(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}Symbol.iterator;class o{constructor(e){this.iter=e,this.current=null}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function s(e){return null!=(t=e)&&"function"==typeof t.GetEnumerator?e.GetEnumerator():new o(e[Symbol.iterator]());var t}function i(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"]();return{done:!t,value:t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0}}}}class c{constructor(e){this.factory=e,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function u(e,t){return e.toString(10).padStart(t,"0")}function a(e){const t=e;return"number"==typeof t.offset?t.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}class l{static id(e){return l.idMap.has(e)||l.idMap.set(e,++l.count),l.idMap.get(e)}}function f(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=33*n^e.charCodeAt(t++);return n}function h(e){return 2654435761*e|0}function d(e){return f(e.toString(32))}function m(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=(t<<5)+t^e[r];return t}function g(n){if(null==n)return 0;switch(typeof n){case"boolean":return n?1:0;case"number":return h(n);case"bigint":return d(n);case"string":return f(n);default:return t(n)?n.GetHashCode():e(n)?function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=g(e[r]);return m(n)}(n):n instanceof Date?function(e){return e.getTime()}(n):Object.getPrototypeOf(n)?.constructor===Object?m(Object.values(n).map((e=>g(e)))):h(l.id(n))}}function p(e){return function(e){return t(e)?e.GetHashCode():function(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return h(e);case"bigint":return d(e);case"string":return f(e);default:return h(l.id(e))}}(e)}(e)}function y(e,t,n){if(null==e)return null==t;if(null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function w(e,t){return y(e,t,C)}function C(t,n){return t===n||(null==t?null==n:null!=n&&(function(e){return null!=e&&"function"==typeof e.Equals}(t)?t.Equals(n):e(t)?e(n)&&w(t,n):"object"==typeof t&&(t instanceof Date?n instanceof Date&&0===v(t,n):Object.getPrototypeOf(t)?.constructor===Object&&function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!C(e[n[o]],t[r[o]]))return!1;return!0}(t,n))))}function v(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+a(e),r=t.getTime()+a(t)),n===r?0:n<r?-1:1}function S(e,t){return e===t?0:e<t?-1:1}function b(e,t){return function(e,t,n){if(null==e)return null==t?0:1;if(null==t)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=n(e[r],t[r]),0!==o)return o;return 0}(e,t,E)}function E(t,n){return t===n?0:null==t?null==n?0:-1:null==n?1:function(e){return null!=e&&"function"==typeof e.CompareTo}(t)?t.CompareTo(n):e(t)?e(n)?b(t,n):-1:"object"!=typeof t?t<n?-1:1:t instanceof Date?n instanceof Date?v(t,n):-1:Object.getPrototypeOf(t)?.constructor===Object?function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,s=0;o<n.length;o++){const i=n[o];if(i!==r[o])return i<r[o]?-1:1;if(s=E(e[i],t[i]),0!==s)return s}return 0}(t,n):-1}function x(e){let t=e;return(...e)=>{if(0===e.length)return t;t=e[0]}}l.idMap=new WeakMap,l.count=0,new WeakMap;class I{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return g(this.value)}Equals(e){return null!=e&&C(this.value,e instanceof I?e.value:e)}CompareTo(e){return null==e?1:E(this.value,e instanceof I?e.value:e)}}function k(e){if(null==e)throw new Error("Option has no value");return e instanceof I?e.value:e}function T(e){return null==e||e instanceof I?new I(e):e}function M(e){return null==e?void 0:e}function N(e){return null==e?[]:[k(e)]}function A(e,t){return null!=e?k(e):t}function _(e,t=0){if(null!=e&&"object"==typeof e){if("function"==typeof e.toString)return e.toString();if(Symbol.iterator in e)return function(e){let t=0,n="[";for(const r of e){if(0===t)n+=_(r);else{if(100===t){n+="; ...";break}n+="; "+_(r)}t++}return n+"]"}(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map((([e,n])=>e+" = "+_(n,t+1))).join("\n  ")+" }":n?.name??""}}return String(e)}class G{get name(){return this.cases()[this.tag]}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}toString(){return function(e,t){if(0===t.length)return e;{let n,r=!0;return 1===t.length?(n=_(t[0]),r=n.indexOf(" ")>=0):n=t.map((e=>_(e))).join(", "),e+(r?" (":" ")+n+(r?")":"")}}(this.name,this.fields)}GetHashCode(){const e=this.fields.map((e=>g(e)));return e.splice(0,0,h(this.tag)),m(e)}Equals(e){return this===e||!!r(this,e)&&this.tag===e.tag&&w(this.fields,e.fields)}CompareTo(e){return this===e?0:r(this,e)?this.tag===e.tag?b(this.fields,e.fields):this.tag<e.tag?-1:1:-1}}class O{toJSON(){return function(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}(this)}toString(){return function(e){return"{ "+Object.entries(e).map((([e,t])=>e+" = "+_(t))).join("\n  ")+" }"}(this)}GetHashCode(){return function(e){return m(Object.values(e).map((e=>g(e))))}(this)}Equals(e){return function(e,t){if(e===t)return!0;if(r(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!C(e[n[r]],t[n[r]]))return!1;return!0}return!1}(this,e)}CompareTo(e){return function(e,t){if(e===t)return 0;if(r(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const o=E(e[n[r]],t[n[r]]);if(0!==o)return o}return 0}return-1}(this,e)}}class D{get contents(){return this.getter()}set contents(e){this.setter(e)}constructor(e,t){"function"==typeof t?(this.getter=e,this.setter=t):(this.getter=()=>e,this.setter=t=>{e=t})}}class F{constructor(e){this.message=e}}function U(e){return(t=e)instanceof F||t instanceof Error||function(e){return e instanceof Promise}(e)?e:new Error(String(e));var t}const R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L=["January","February","March","April","May","June","July","August","September","October","November","December"];function j(e,t,n){let r=0,o=t;for(;o<e.length&&e[o]===n;)o++,r++;return r}function H(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function W(e,t){let n=t;const r=e[t];let o="",s=!1;for(;t<e.length;){const n=e[++t];if(n===r){s=!0;break}if("\\"===n){if(!(t<e.length))throw new Error("Invalid string format");o+=e[++t]}else o+=n}if(!s)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[o,t-n+1]}function J(e,t,n){let r=0,o=0,s="";const i=n?Y(e.getTime(),1):e;for(;r<t.length;){const e=t[r];switch(e){case"d":switch(o=j(t,r,"d"),r+=o,o){case 1:s+=Q(i);break;case 2:s+=u(Q(i),2);break;case 3:s+=R[se(i)];break;case 4:s+=B[se(i)]}break;case"f":if(o=j(t,r,"f"),r+=o,o<=3){const e=10**(3-o);s+=u(Math.floor(te(i)/e),o)}else o<=7&&(s+=(""+te(i)).padEnd(o,"0"));break;case"F":if(o=j(t,r,"F"),r+=o,o<=3){const e=10**(3-o),t=Math.floor(te(i)/e);0!=t&&(s+=u(t,o))}else if(o<=7){const e=te(i);0!=e&&(s+=u(e,3))}break;case"g":o=j(t,r,"g"),r+=o,o<=2&&(s+="A.D.");break;case"h":switch(o=j(t,r,"h"),r+=o,o){case 1:s+=ee(i)%12;break;case 2:s+=u(ee(i)%12,2)}break;case"H":switch(o=j(t,r,"H"),r+=o,o){case 1:s+=ee(i);break;case 2:s+=u(ee(i),2)}break;case"K":if(o=j(t,r,"K"),r+=o,1===o)switch(q(i)){case 1:s+="Z";break;case 2:s+=z(-6e4*i.getTimezoneOffset())}break;case"m":switch(o=j(t,r,"m"),r+=o,o){case 1:s+=ne(i);break;case 2:s+=u(ne(i),2)}break;case"M":switch(o=j(t,r,"M"),r+=o,o){case 1:s+=re(i);break;case 2:s+=u(re(i),2);break;case 3:s+=P[re(i)-1];break;case 4:s+=L[re(i)-1]}break;case"s":switch(o=j(t,r,"s"),r+=o,o){case 1:s+=oe(i);break;case 2:s+=u(oe(i),2)}break;case"t":switch(o=j(t,r,"t"),r+=o,o){case 1:s+=i.getHours()<12?"A":"P";break;case 2:s+=i.getHours()<12?"AM":"PM"}break;case"y":switch(o=j(t,r,"y"),r+=o,o){case 1:s+=i.getFullYear()%100;break;case 2:s+=u(i.getFullYear()%100,2);break;case 3:s+=u(i.getFullYear(),3);break;case 4:s+=u(i.getFullYear(),4);break;case 5:s+=u(i.getFullYear(),5)}break;case"z":o=j(t,r,"z"),r+=o;let c="";switch(q(i)){case 1:c="+00:00";break;case 2:c=z(-6e4*i.getTimezoneOffset());break;case 0:c=z(-6e4*K(i).getTimezoneOffset())}const a="-"===c[0]?"-":"+",l=parseInt(c.substring(1,3),10),f=parseInt(c.substring(4,6),10);switch(o){case 1:s+=`${a}${l}`;break;case 2:s+=`${a}${u(l,2)}`;break;default:s+=`${a}${u(l,2)}:${u(f,2)}`}break;case":":s+=":",r++;break;case"/":s+="/",r++;break;case"'":case'"':const[h,d]=W(t,r);s+=h,r+=d;break;case"%":const m=H(t,r);if(!(m>=0&&m!=="%".charCodeAt(0)))throw new Error("Invalid format string");r+=2,s+=J(i,String.fromCharCode(m),n);break;case"\\":const g=H(t,r);if(!(g>=0))throw new Error("Invalid format string");r+=2,s+=String.fromCharCode(g);break;default:r++,s+=e}}return s}function q(e){return e.kind||0}function z(e){const t=e<0,n=(e=Math.abs(e))%36e5/6e4;return(t?"-":"+")+u(~~(e/36e5),2)+":"+u(n,2)}function $(e,t){const n=e.toISOString();return"first"===t?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function X(e,t,n){return null!=e.offset?function(e,t){const n=new Date(e.getTime()+(e.offset??0));if("string"!=typeof t)return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+z(e.offset??0);if(1!==t.length)return J(n,t,!0);switch(t){case"D":case"d":return $(n,"first");case"T":case"t":return $(n,"second");case"O":case"o":return function(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+z(t)}(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}}(e,t):function(e,t){const n=1===e.kind;if("string"!=typeof t)return n?e.toUTCString():e.toLocaleString();if(1!==t.length)return J(e,t,n);switch(t){case"D":case"d":return n?$(e,"first"):e.toLocaleDateString();case"T":case"t":return n?$(e,"second"):e.toLocaleTimeString();case"O":case"o":return function(e,t){if(t)return e.toISOString();{const t=null==e.kind||2===e.kind;return u(e.getFullYear(),4)+"-"+u(e.getMonth()+1,2)+"-"+u(e.getDate(),2)+"T"+u(e.getHours(),2)+":"+u(e.getMinutes(),2)+":"+u(e.getSeconds(),2)+"."+u(e.getMilliseconds(),3)+(t?z(-6e4*e.getTimezoneOffset()):"")}}(e,n);default:throw new Error("Unrecognized Date print format")}}(e,t)}function Y(e,t){const n=new Date(e);return n.kind=0|(null==t?0:t),n}function V(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}null!=e&&""!==e.trim()||t(),10===e.length&&"-"===e[4]&&"-"===e[7]&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const o=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(null!=o){let e,t=0;if(null!=o[2]){const e=o[2].split(":"),n=parseInt(e[0],10);t=3600*n+60*parseInt(e[1]||"0",10)+parseFloat(e[2]||"0"),null!=o[3]&&"PM"===o[3].toUpperCase()&&n<12&&(t+=720)}if(null!=o[4]){if(null!=o[1])e=new Date(o[1]+" UTC");else{const t=new Date;e=new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate())}if("Z"===o[4])r="Z";else{let e=60*parseInt(o[5],10)+parseInt(o[6]||"0",10);"-"===o[4][0]&&(e*=-1),r=e,t-=60*e}}else if(null!=o[1])e=new Date(o[1]);else{const t=new Date;e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())}n=new Date(e.getTime()+1e3*t),n=new Date(n.getTime()+6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))}else t();isNaN(n.getTime())&&t()}return[n,r]}function Z(e,t=!1){const[n,r]=V(e),o=null!=r?t&&"Z"===r?1:2:0;return Y(n.getTime(),o)}function K(e){return 2===e.kind?e:Y(e.getTime(),2)}function Q(e){return 1===e.kind?e.getUTCDate():e.getDate()}function ee(e){return 1===e.kind?e.getUTCHours():e.getHours()}function te(e){return 1===e.kind?e.getUTCMilliseconds():e.getMilliseconds()}function ne(e){return 1===e.kind?e.getUTCMinutes():e.getMinutes()}function re(e){return(1===e.kind?e.getUTCMonth():e.getMonth())+1}function oe(e){return 1===e.kind?e.getUTCSeconds():e.getSeconds()}function se(e){return 1===e.kind?e.getUTCDay():e.getDay()}const ie=Symbol("numeric");function ce(e){return"number"==typeof e||"bigint"==typeof e||e?.[ie]}function ue(e,t){return"number"==typeof e?e*t:"bigint"==typeof e?e*BigInt(t):e[ie]().multiply(t)}function ae(e,t){return"number"==typeof e?e.toFixed(t):"bigint"==typeof e?e:e[ie]().toFixed(t)}function le(e,t){return"number"==typeof e?e.toPrecision(t):"bigint"==typeof e?e:e[ie]().toPrecision(t)}function fe(e,t){return"number"==typeof e?e.toExponential(t):"bigint"==typeof e?e:e[ie]().toExponential(t)}function he(e){return"number"==typeof e?(Number(e)>>>0).toString(16):"bigint"==typeof e?BigInt.asUintN(64,e).toString(16):e[ie]().toHex()}function de(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const me=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,ge=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function pe(e,t){return function(e,t){return"number"==typeof e||"bigint"==typeof e?e<t?-1:e>t?1:0:e.CompareTo(t)}(e,t)<0}function ye(e){return{input:e,cont:(t=e,e=>{me.lastIndex=0;const n=[],r=[];let o=0,s=me.exec(t);for(;s;){const e=s.index+(s[1]||"").length;n.push(t.substring(o,e).replace(/%%/g,"%")),r.push(s),o=me.lastIndex,me.lastIndex-=1,s=me.exec(t)}return 0===n.length?e(t.replace(/%%/g,"%")):(n.push(t.substring(o).replace(/%%/g,"%")),be(e,n,r))})};var t}function we(e,t){return"string"==typeof t?e(t):t.cont(e)}function Ce(e){return we((e=>e),e)}function ve(e){return we((e=>{throw new Error(e)}),e)}function Se(e,t,n,r,o){let s="";if(t=t||"",o=o||"",ce(e))switch("x"!==o.toLowerCase()&&(pe(e,0)?(e=ue(e,-1),s="-"):t.indexOf(" ")>=0?s=" ":t.indexOf("+")>=0&&(s="+")),r=null==r?null:parseInt(r,10),o){case"f":case"F":e=ae(e,r=null!=r?r:6);break;case"g":case"G":e=null!=r?le(e,r):le(e);break;case"e":case"E":e=null!=r?fe(e,r):fe(e);break;case"x":e=he(e);break;case"X":e=he(e).toUpperCase();break;default:e=String(e)}else e=e instanceof Date?X(e):_(e);if(n="number"==typeof n?n:parseInt(n,10),isNaN(n))e=s+e;else{const r=t.indexOf("0")>=0,o=t.indexOf("-")>=0,i=o||!r?" ":"0";e="0"===i?s+(e=Te(e,n-s.length,i,o)):Te(s+e,n,i,o)}return e}function be(e,t,n,r="",o=-1){return(...s)=>{let i=r;const c=t.slice(),u=n.slice();for(const e of s){const[,,t,n,r,s]=u[0];let a=n;if(o>=0)a=o,o=-1;else if("*"===a){if(e<0)throw new Error("Non-negative number required");o=e;continue}i+=c[0],i+=Se(e,t,a,r,s),c.splice(0,1),u.splice(0,1)}return 0===u.length?(i+=c[0],e(i)):be(e,c,u,i,o)}}function Ee(e,...t){let n;return"object"==typeof e?(n=String(t[0]),t.shift()):n=e,n.replace(ge,((e,n,r,o,s,i)=>{if(n<0||n>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[n];if(ce(c))switch(s=null==s?null:parseInt(s,10),o){case"f":case"F":c=ae(c,s=null!=s?s:2);break;case"g":case"G":c=null!=s?le(c,s):le(c);break;case"e":case"E":c=null!=s?fe(c,s):fe(c);break;case"p":case"P":s=null!=s?s:2,c=ae(ue(c,100),s)+" %";break;case"d":case"D":c=null!=s?Me(String(c),s,"0"):String(c);break;case"x":case"X":c=null!=s?Me(he(c),s,"0"):he(c),"X"===o&&(c=c.toUpperCase());break;default:if(i){let e="";c=i.replace(/([0#,]+)(\.[0#]+)?/,((t,n,r)=>{pe(c,0)&&(c=ue(c,-1),e="-"),r=null==r?"":r.substring(1),c=ae(c,Math.max(r.length,0));let[o,s]=c.split(".");s||(s=""),o=Me(o,n.replace(/,/g,"").replace(/^#+/,"").length,"0");const i=r.replace(/#+$/,"").length;if(i>s.length?s=function(e,t){return Te(e,t,"0",!0)}(s,i):i<s.length&&(s=s.substring(0,i)+s.substring(i).replace(/0+$/,"")),n.indexOf(",")>0){const e=o.length%3,t=Math.floor(o.length/3);let n=e>0?o.substr(0,e)+(t>0?",":""):"";for(let r=0;r<t;r++)n+=o.substr(e+3*r,3)+(r<t-1?",":"");o=n}return s.length>0?o+"."+s:o})),c=e+c}}else c=c instanceof Date?X(c,i||o):_(c);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(c=Te(String(c),Math.abs(r)," ",r<0)),c}))}function xe(e){return"string"!=typeof e||0===e.length}function Ie(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function ke(e){const t="function"==typeof atob?atob(e):function(e){throw new Error("The environment doesn't support '"+e+"', please use a polyfill.")}("atob"),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function Te(e,t,n,r){n=n||" ",t-=e.length;for(let o=0;o<t;o++)e=r?e+n:n+e;return e}function Me(e,t,n){return Te(e,t,n)}const Ne="Collection was empty.";function Ae(e,t){return"function"==typeof e?new e(t):new Array(t)}function _e(e,t,n,r){const o=0|t;return e.fill(r,o,o+n)}function Ge(e,t,n){const r=0|t.length,o=Ae(n,r);for(let n=0;n<=r-1;n++)Pe(o,n,e(n,Be(n,t)));return o}function Oe(e,t,n){const r=0|t.length,o=Ae(n,r);for(let n=0;n<=r-1;n++)Pe(o,n,e(Be(n,t)));return o}function De(e,t){const n=Array.isArray(e)?e:Array.from(e);switch(0|n.length){case 0:return Ae(t,0);case 1:return Be(0,n);default:{let e=0,r=0;for(let e=0;e<=n.length-1;e++)r=r+Be(e,n).length|0;const o=Ae(t,r);for(let t=0;t<=n.length-1;t++){const r=Be(t,n);for(let t=0;t<=r.length-1;t++)Pe(o,e,Be(t,r)),e=e+1|0}return o}}}function Fe(e,t){return t.find(e)}function Ue(e,t){e.length!==t.length&&function(){throw new Error("Arrays had different lengths")}();const n=new Array(e.length);for(let r=0;r<=e.length-1;r++)Pe(n,r,[Be(r,e),Be(r,t)]);return n}function Re(e,t,n){if(null==t)return null==n;if(null==n)return!1;{let r=0,o=!0;const s=0|t.length,i=0|n.length;if(s>i)return!1;if(s<i)return!1;for(;r<s&&o;)o=e(Be(r,t),Be(r,n)),r=r+1|0;return o}}function Be(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function Pe(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}class Le extends O{constructor(e,t){super(),this.head=e,this.tail=t}toString(){return"["+Ie("; ",this)+"]"}Equals(e){return this===e||((e,t)=>{e:for(;;){const n=e,r=t,o=n.tail,s=r.tail;if(null!=o){if(null!=s){const i=k(o),c=k(s);if(C(n.head,r.head)){e=i,t=c;continue e}return!1}return!1}return null==s}})(this,e)}GetHashCode(){return 0|((e,t,n)=>{for(;;){const r=e,o=t,s=n,i=s.tail;if(null==i)return 0|o;{const c=k(i);if(r>18)return 0|o;e=r+1,t=(o<<1)+g(s.head)+631*r,n=c}}})(0,0,this)}toJSON(){return Array.from(this)}CompareTo(e){return 0|((e,t)=>{e:for(;;){const n=e,r=t,o=n.tail,s=r.tail;if(null!=o){if(null!=s){const i=k(o),c=k(s),u=0|E(n.head,r.head);if(0===u){e=i,t=c;continue e}return 0|u}return 1}return null!=s?-1:0}})(this,e)}GetEnumerator(){return new je(this)}[Symbol.iterator](){return i(s(this))}"System.Collections.IEnumerable.GetEnumerator"(){return s(this)}}class je{constructor(e){this.xs=e,this.it=this.xs,this.current=null}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this,t=e.it.tail;if(null!=t){const n=k(t);return e.current=e.it.head,e.it=n,!0}return!1}"System.Collections.IEnumerator.Reset"(){const e=this;e.it=e.xs,e.current=null}Dispose(){}}function He(){return new Le(null,void 0)}function We(e,t){return new Le(e,t)}function Je(e){return null==e.tail}function qe(e){return 0|((e,t)=>{for(;;){const n=e,r=t.tail;if(null==r)return 0|n;e=n+1,t=k(r)}})(0,e)}function ze(e){if(null!=e.tail)return e.head;throw new Error(Ne+"\\nParameter name: list")}function $e(e){const t=e.tail;if(null!=t)return k(t);throw new Error(Ne+"\\nParameter name: list")}function Xe(){return He()}function Ye(e,t){return We(e,t)}function Ve(e){return We(e,He())}function Ze(e){return Je(e)}function Ke(e){return qe(e)}function Qe(e){return ze(e)}function et(e){return $e(e)}function tt(e){const t=0|qe(e),n=_e(new Array(t),0,t,null);return((e,t)=>{for(;;){const r=e,o=t;if(Je(o))break;Pe(n,r,ze(o)),e=r+1,t=$e(o)}})(0,e),n}function nt(e,t,n){let r=t,o=n;for(;!Je(o);)r=e(r,Qe(o)),o=$e(o);return r}function rt(e,t){let n=t;for(let t=e.length-1;t>=0;t--)n=We(Be(t,e),n);return n}function ot(e){return rt(e,He())}function st(t){let r,o;if(e(t))return ot(t);if(t instanceof Le)return t;{const e=He();let i=e;const c=s(t);try{for(;c["System.Collections.IEnumerator.MoveNext"]();){const e=c["System.Collections.Generic.IEnumerator`1.get_Current"]();r=i,o=new Le(e,void 0),r.tail=o,i=o}}finally{n(c)}const u=i,a=He();return u.tail=a,$e(e)}}function it(e,t){const n=He(),r=nt(((t,n)=>{const r=new Le(e(n),void 0);return t.tail=r,r}),n,t),o=He();return r.tail=o,$e(n)}function ct(e,t){return function(e,t){return(t=>{e:for(;;){const n=t;if(Je(n))return;{const r=e(ze(n));if(null==r){t=$e(n);continue e}return r}}})(t)}((t=>e(t)?T(t):void 0),t)}function ut(e,t){const n=He(),r=nt(((t,n)=>{const r=e(n);if(null==r)return t;{const e=new Le(k(r),void 0);return t.tail=e,e}}),n,t),o=He();return r.tail=o,$e(n)}function at(){throw new Error("Enumeration has not started. Call MoveNext.")}function lt(){throw new Error("Enumeration already finished.")}class ft{constructor(e){this.f=e}toString(){let e=0,t="seq [";const r=s(this);try{for(;e<4&&r["System.Collections.IEnumerator.MoveNext"]();)e>0&&(t+="; "),t+=_(r["System.Collections.Generic.IEnumerator`1.get_Current"]()),e=e+1|0;return 4===e&&(t+="; ..."),t+"]"}finally{n(r)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return i(s(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}class ht{constructor(e,t,n){this.current=e,this.next=t,this.dispose=n}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){!function(){throw new Error("Reset is not supported on this enumerator.")}()}Dispose(){this.dispose()}}function dt(e,t,n){return new ht(e,t,n)}function mt(e){return function(e){return new ft(e)}(e)}function gt(e){return t="source",null==e&&function(e){throw new Error(e)}(t),s(e);var t}function pt(e){return mt((()=>s(e())))}function yt(e){return mt((()=>function(e){let t,r,o,i=!1,c=!1;const u=()=>{if(c=!0,null!=r){const e=k(r);try{n(e)}finally{r=void 0}}if(null!=t){const e=k(t);try{n(e)}finally{t=void 0}}};return dt((()=>(i?c&&lt():at(),null!=o?k(o):lt())),(()=>{let a;if(i||(i=!0),c)return!1;{let i;for(;null==i;){const c=t;if(null!=c)if(null!=r){const e=k(r);if(e["System.Collections.IEnumerator.MoveNext"]())o=T(e["System.Collections.Generic.IEnumerator`1.get_Current"]()),i=!0;else try{n(e)}finally{r=void 0}}else{const e=k(c);e["System.Collections.IEnumerator.MoveNext"]()?(a=e["System.Collections.Generic.IEnumerator`1.get_Current"](),r=s(a)):(u(),i=!1)}else t=s(e)}return k(i)}}),(()=>{c||u()}))}(e)))}function wt(){return pt((()=>new Array(0)))}function Ct(e){return pt((()=>function(e){const t=Ae(void 0,1);return Pe(t,0,e),t}(e)))}function vt(e){return e instanceof Le?tt(e):Array.from(e)}function St(t){return e(t)?ot(t):t instanceof Le?t:st(t)}function bt(e,t,n){return mt((()=>function(e,t,n){let r,o=!1,s=T(e());const i=()=>{if(null!=s){const e=k(s);try{n(e)}finally{s=void 0}}},c=()=>{try{i()}finally{r=void 0}};return dt((()=>(o||at(),null!=r?k(r):lt())),(()=>{if(o||(o=!0),null!=s){const e=k(s);let n;try{n=t(e)}catch(e){throw c(),e}return null!=n?(r=n,!0):(c(),!1)}return!1}),i)}(e,t,n)))}function Et(e,t){return yt([e,t])}function xt(e,t){const r=gt(t);try{let t;for(;null==t&&r["System.Collections.IEnumerator.MoveNext"]();){const n=r["System.Collections.Generic.IEnumerator`1.get_Current"]();e(n)&&(t=T(n))}return t}finally{n(r)}}function It(e,t,r){const o=gt(r);try{let n=t;for(;o["System.Collections.IEnumerator.MoveNext"]();)n=e(n,o["System.Collections.Generic.IEnumerator`1.get_Current"]());return n}finally{n(o)}}function kt(e,t){It(((t,n)=>{e(n)}),void 0,t)}function Tt(e,t){It(((t,n)=>(e(t,n),t+1|0)),0,t)}function Mt(e,t){return bt((()=>gt(t)),(t=>t["System.Collections.IEnumerator.MoveNext"]()?T(e(t["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0),(e=>{n(e)}))}function Nt(e,t){return pt((()=>yt(Mt(e,t))))}Symbol.iterator;class At{constructor(e){this.k=e}}function _t(e){return new At(e)}function Gt(e){return e.k}class Ot extends At{constructor(e,t,n,r){super(e),this.left=t,this.right=n,this.h=0|r}}function Dt(e,t,n,r){return new Ot(e,t,n,r)}function Ft(e){return e.left}function Ut(e){return e.right}function Rt(e){return e.h}function Bt(e,t){e:for(;;){const n=t;if(null!=e){const r=k(e);if(r instanceof Ot){const o=r;e=Ft(o),t=Bt(Ut(o),n+1);continue e}return n+1|0}return 0|n}}function Pt(e){return Bt(e,0)}function Lt(e,t,n){let r,o,s,i;if(null!=e){const t=k(e);s=t instanceof Ot?(r=t,Rt(r)):1}else s=0;if(null!=n){const e=k(n);i=e instanceof Ot?(o=e,Rt(o)):1}else i=0;const c=0|(s<i?i:s);return 0===c?_t(t):Dt(t,e,n,c+1)}function jt(e,t,n){let r,o,s,i,c,u,a,l,f,h;if(null!=e){const t=k(e);f=t instanceof Ot?(r=t,Rt(r)):1}else f=0;if(null!=n){const e=k(n);h=e instanceof Ot?(o=e,Rt(o)):1}else h=0;if(h>f+2){const r=k(n);if(r instanceof Ot){const n=r;if(s=Ft(n),(null!=s?(i=k(s),i instanceof Ot?(c=i,Rt(c)):1):0)>f+1){const r=k(Ft(n));if(r instanceof Ot){const o=r;return Lt(Lt(e,t,Ft(o)),Gt(o),Lt(Ut(o),Gt(n),Ut(n)))}throw new Error("internal error: Set.rebalance")}return Lt(Lt(e,t,Ft(n)),Gt(n),Ut(n))}throw new Error("internal error: Set.rebalance")}if(f>h+2){const r=k(e);if(r instanceof Ot){const e=r;if(u=Ut(e),(null!=u?(a=k(u),a instanceof Ot?(l=a,Rt(l)):1):0)>h+1){const r=k(Ut(e));if(r instanceof Ot){const o=r;return Lt(Lt(Ft(e),Gt(e),Ft(o)),Gt(o),Lt(Ut(o),t,n))}throw new Error("internal error: Set.rebalance")}return Lt(Ft(e),Gt(e),Lt(Ut(e),t,n))}throw new Error("internal error: Set.rebalance")}return Lt(e,t,n)}function Ht(e,t,n){if(null!=n){const r=k(n),o=0|e.Compare(t,Gt(r));if(r instanceof Ot){const s=r;return o<0?jt(Ht(e,t,Ft(s)),Gt(s),Ut(s)):0===o?n:jt(Ft(s),Gt(s),Ht(e,t,Ut(s)))}{const o=0|e.Compare(t,Gt(r));return o<0?Dt(t,void 0,n,2):0===o?n:Dt(t,n,void 0,2)}}return _t(t)}function Wt(e){if(null!=e){const t=k(e);if(t instanceof Ot){const e=t;if(null==Ft(e))return[Gt(e),Ut(e)];{const t=Wt(Ft(e));return[t[0],Lt(t[1],Gt(e),Ut(e))]}}return[Gt(t),void 0]}throw new Error("internal error: Set.spliceOutSuccessor")}function Jt(e,t,n){if(null!=n){const r=k(n),o=0|e.Compare(t,Gt(r));if(r instanceof Ot){const n=r;if(o<0)return jt(Jt(e,t,Ft(n)),Gt(n),Ut(n));if(0===o){if(null==Ft(n))return Ut(n);if(null==Ut(n))return Ft(n);{const e=Wt(Ut(n));return Lt(Ft(n),e[0],e[1])}}return jt(Ft(n),Gt(n),Jt(e,t,Ut(n)))}return 0===o?void 0:n}return n}function qt(e,t,n){e:for(;;){const r=e,o=t;if(null!=n){const s=k(n),i=0|r.Compare(o,Gt(s));if(s instanceof Ot){const c=s;if(i<0){e=r,t=o,n=Ft(c);continue e}if(0===i)return!0;e=r,t=o,n=Ut(c);continue e}return 0===i}return!1}}function zt(e,t){e:for(;;){const n=e;if(null!=t){const r=k(t);if(r instanceof Ot){const o=r;zt(n,Ft(o)),n(Gt(o)),e=n,t=Ut(o);continue e}n(Gt(r))}break}}class $t extends O{constructor(e,t){super(),this.stack=e,this.started=t}}function Xt(e){e:for(;;){const t=e;if(Ze(t))return Xe();{const n=Qe(t),r=et(t);if(null!=n){const o=k(n);if(o instanceof Ot){const t=o;e=rt([Ft(t),_t(Gt(t)),Ut(t)],r);continue e}return t}e=r;continue e}}}function Yt(e){return new $t(Xt(Ve(e)),!1)}function Vt(e){if(e.started){const t=e.stack;if(Ze(t))return function(){throw new Error("Enumeration already started")}();if(null!=Qe(t))return Gt(k(Qe(t)));throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}function Zt(e){let t=Yt(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>Vt(t),"System.Collections.IEnumerator.get_Current":()=>Vt(t),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const t=e.stack;if(Ze(t))return!1;if(null!=Qe(t)){if(k(Qe(t))instanceof Ot)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=Xt(et(t)),!Ze(e.stack)}throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!Ze(e.stack)}(t),"System.Collections.IEnumerator.Reset"(){t=Yt(e)},Dispose(){}}}function Kt(e,t,n){return null==t?null==n?0:-1:null==n?1:0|function(e,t,n){e:for(;;){const r=e,o=t,s=n;if(Ze(o))return Ze(s)?0:-1;if(Ze(s))return 1;if(null!=Qe(s))if(null!=Qe(o)){const i=k(Qe(o)),c=k(Qe(s));if(i instanceof Ot){const u=i;if(null==Ft(u)){if(!(c instanceof Ot)){const i=0|r.Compare(Gt(u),Gt(c));if(0!==i)return 0|i;e=r,t=Ye(Ut(u),et(o)),n=Ye(void 0,et(s));continue e}{const i=c;if(null==Ft(i)){const c=0|r.Compare(Gt(u),Gt(i));if(0!==c)return 0|c;e=r,t=Ye(Ut(u),et(o)),n=Ye(Ut(i),et(s));continue e}{let i,c,u,a,l;switch(Ze(o)?Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2:null!=Qe(o)?(i=0,c=et(o),u=k(Qe(o))):Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2,i){case 0:if(u instanceof Ot){const o=u;e=r,t=rt([Ft(o),Dt(Gt(o),void 0,Ut(o),0)],c),n=s;continue e}e=r,t=rt([void 0,_t(Gt(u))],c),n=s;continue e;case 1:if(l instanceof Ot){const s=l;e=r,t=o,n=rt([Ft(s),Dt(Gt(s),void 0,Ut(s),0)],a);continue e}e=r,t=o,n=rt([void 0,_t(Gt(l))],a);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}}else{let i,c,u,a,l;switch(Ze(o)?Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2:null!=Qe(o)?(i=0,c=et(o),u=k(Qe(o))):Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2,i){case 0:if(u instanceof Ot){const o=u;e=r,t=rt([Ft(o),Dt(Gt(o),void 0,Ut(o),0)],c),n=s;continue e}e=r,t=rt([void 0,_t(Gt(u))],c),n=s;continue e;case 1:if(l instanceof Ot){const s=l;e=r,t=o,n=rt([Ft(s),Dt(Gt(s),void 0,Ut(s),0)],a);continue e}e=r,t=o,n=rt([void 0,_t(Gt(l))],a);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{if(!(c instanceof Ot)){const u=0|r.Compare(Gt(i),Gt(c));if(0!==u)return 0|u;e=r,t=et(o),n=et(s);continue e}{const u=c;if(null==Ft(u)){const c=0|r.Compare(Gt(i),Gt(u));if(0!==c)return 0|c;e=r,t=Ye(void 0,et(o)),n=Ye(Ut(u),et(s));continue e}{let i,c,u,a,l;switch(Ze(o)?Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2:null!=Qe(o)?(i=0,c=et(o),u=k(Qe(o))):Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2,i){case 0:if(u instanceof Ot){const o=u;e=r,t=rt([Ft(o),Dt(Gt(o),void 0,Ut(o),0)],c),n=s;continue e}e=r,t=rt([void 0,_t(Gt(u))],c),n=s;continue e;case 1:if(l instanceof Ot){const s=l;e=r,t=o,n=rt([Ft(s),Dt(Gt(s),void 0,Ut(s),0)],a);continue e}e=r,t=o,n=rt([void 0,_t(Gt(l))],a);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}}}else{let i,c,u,a,l;switch(k(Qe(s)),Ze(o)?Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2:null!=Qe(o)?(i=0,c=et(o),u=k(Qe(o))):Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2,i){case 0:if(u instanceof Ot){const o=u;e=r,t=rt([Ft(o),Dt(Gt(o),void 0,Ut(o),0)],c),n=s;continue e}e=r,t=rt([void 0,_t(Gt(u))],c),n=s;continue e;case 1:if(l instanceof Ot){const s=l;e=r,t=o,n=rt([Ft(s),Dt(Gt(s),void 0,Ut(s),0)],a);continue e}e=r,t=o,n=rt([void 0,_t(Gt(l))],a);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(null==Qe(o)){e=r,t=et(o),n=et(s);continue e}{let i,c,u,a,l;switch(k(Qe(o)),Ze(o)?Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2:null!=Qe(o)?(i=0,c=et(o),u=k(Qe(o))):Ze(s)?i=2:null!=Qe(s)?(i=1,a=et(s),l=k(Qe(s))):i=2,i){case 0:if(u instanceof Ot){const o=u;e=r,t=rt([Ft(o),Dt(Gt(o),void 0,Ut(o),0)],c),n=s;continue e}e=r,t=rt([void 0,_t(Gt(u))],c),n=s;continue e;case 1:if(l instanceof Ot){const s=l;e=r,t=o,n=rt([Ft(s),Dt(Gt(s),void 0,Ut(s),0)],a);continue e}e=r,t=o,n=rt([void 0,_t(Gt(l))],a);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}break}}(e,Ve(t),Ve(n))}function Qt(e,t,n){let r=n;zt((e=>{Pe(t,r,e),r=r+1|0}),e)}function en(e,t){return function(t,n,r){const o=(t,n)=>Ht(e,n,t);return r.reduce(o,void 0)}(0,0,t)}class tn{constructor(e,t){this.comparer=e,this.tree=t}GetHashCode(){return 0|function(e){let t=0;const r=s(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();)t=(t<<1)+g(r["System.Collections.Generic.IEnumerator`1.get_Current"]())+631|0}finally{n(r)}return 0|Math.abs(t)}(this)}Equals(e){let t;return e instanceof tn&&(t=e,0===Kt(rn(this),on(this),on(t)))}toString(){return"set ["+Ie("; ",Mt((e=>_(e)),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){return Array.from(this)}CompareTo(e){return 0|Kt(rn(this),on(this),on(e))}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return qt(rn(this),e,on(this))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){Qt(on(this),e,t)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|sn(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|sn(this)}GetEnumerator(){return Zt(on(this))}[Symbol.iterator](){return i(s(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Zt(on(this))}get size(){return 0|sn(this)}add(e){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(e){throw new Error("Set cannot be mutated")}has(e){return cn(this,e)}keys(){return Mt((e=>e),this)}values(){return Mt((e=>e),this)}entries(){return Mt((e=>[e,e]),this)}forEach(e,t){const n=this;kt((t=>{e(t,t,n)}),n)}}function nn(e,t){return new tn(e,t)}function rn(e){return e.comparer}function on(e){return e.tree}function sn(e){return Pt(on(e))}function cn(e,t){return qt(rn(e),t,on(e))}function un(t,r){return nn(r,function(t,r){if(e(r))return en(t,r);if(r instanceof Le)return function(e,t){return nt(((t,n)=>Ht(e,n,t)),void 0,t)}(t,r);{const e=s(r);try{return function(e,t,n){for(;;){const r=e,o=t,s=n;if(!s["System.Collections.IEnumerator.MoveNext"]())return o;e=r,t=Ht(r,s["System.Collections.Generic.IEnumerator`1.get_Current"](),o),n=s}}(t,void 0,e)}finally{n(e)}}}(r,t))}let an=nn({Compare:S},void 0);let ln=null;function fn(e){return cn(an,e)}function hn(e,t){if(t<e)throw new Error("minValue must be less than maxValue");return Math.floor(Math.random()*(t-e))+e}class dn{constructor(){}Next0(){return hn(0,2147483647)}Next1(e){return hn(0,e)}Next2(e,t){return hn(e,t)}NextDouble(){return Math.random()}NextBytes(e){!function(e){if(null==e)throw new Error("Buffer cannot be null");for(let t=0;t<e.length;t+=6){let n=Math.floor(281474976710656*Math.random());const r=Math.floor(n/16777216);for(let o=0;o<6&&t+o<e.length;o++)3===o&&(n=r),e[t+o]=255&n,n>>>=8}}(e)}}function mn(){return new dn}function gn(e){const t=new D(0);if(function(e,t){if(null!=e&&/\S/.test(e)){const n=+e.replace("_","");if(!Number.isNaN(n))return t.contents=n,!0}return!1}(e,t))return t.contents;throw new Error(`The input string ${e} was not in a correct format.`)}class pn{constructor(e,t,n,r,o,s,i){this.fullname=e,this.generics=t,this.construct=n,this.parent=r,this.fields=o,this.cases=s,this.enumCases=i}toString(){return In(this)}GetHashCode(){return wn(this)}Equals(e){return Cn(this,e)}}function yn(e){return null!=e.generics?e.generics:[]}function wn(e){return m([f(e.fullname),...yn(e).map(wn)])}function Cn(e,t){return""===e.fullname?""===t.fullname&&y(Tn(e),Tn(t),(([e,t],[n,r])=>e===n&&Cn(t,r))):e.fullname===t.fullname&&y(yn(e),yn(t),Cn)}new pn("System.Object"),new pn("Microsoft.FSharp.Core.Unit"),new pn("System.Char");const vn=new pn("System.String"),Sn=new pn("System.Boolean"),bn=(new pn("System.SByte"),new pn("System.Byte"),new pn("System.Int16"),new pn("System.UInt16"),new pn("System.Int32")),En=(new pn("System.UInt32"),new pn("System.Int64"),new pn("System.UInt64"),new pn("System.Int128"),new pn("System.UInt128"),new pn("System.IntPtr"),new pn("System.UIntPtr"),new pn("System.Half"),new pn("System.Single"),new pn("System.Double"));function xn(e){if(Array.isArray(e))return e[0];if(e instanceof pn){const t=kn(e);if(null!=t)return xn(t)+"[]";{const t=e.fullname.lastIndexOf(".");return-1===t?e.fullname:e.fullname.substr(t+1)}}return e.name}function In(e){const t=kn(e);return null!=t?In(t)+"[]":null==e.generics||0===e.generics.length?e.fullname:e.fullname+"["+e.generics.map((e=>In(e))).join(",")+"]"}function kn(e){return"[]"===e.fullname&&1===e.generics?.length?e.generics[0]:void 0}function Tn(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function Mn(e){return e.fullname.startsWith("System.Tuple")}function Nn(e){return"Microsoft.FSharp.Core.FSharpFunc`2"===e.fullname}function An(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return null==r?{}:e.declaringType.cases&&1==e.declaringType.cases().length?new r(...t):new r(e.tag,t)}function _n(e,t){const n=Tn(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return null!=e.construct?new e.construct(...t):n.reduce(((e,[n,r],o)=>(e[n]=t[o],e)),{})}new pn("System.Decimal"),new pn("System.Numerics.BigInteger");class Gn{constructor(e,t){this.k=e,this.v=t}}function On(e,t){return new Gn(e,t)}function Dn(e){return e.k}function Fn(e){return e.v}class Un extends Gn{constructor(e,t,n,r,o){super(e,t),this.left=n,this.right=r,this.h=0|o}}function Rn(e,t,n,r,o){return new Un(e,t,n,r,o)}function Bn(e){return e.left}function Pn(e){return e.right}function Ln(e){return e.h}function jn(e,t){e:for(;;){const n=e;if(null!=t){const r=k(t);if(r instanceof Un){const o=r;e=jn(n+1,Bn(o)),t=Pn(o);continue e}return n+1|0}return 0|n}}function Hn(e){return jn(0,e)}function Wn(e,t,n,r){let o,s,i,c;if(null!=e){const t=k(e);i=t instanceof Un?(o=t,Ln(o)):1}else i=0;if(null!=r){const e=k(r);c=e instanceof Un?(s=e,Ln(s)):1}else c=0;const u=0|(i<c?c:i);return 0===u?On(t,n):Rn(t,n,e,r,u+1)}function Jn(e,t,n,r){let o,s,i,c,u,a,l,f,h,d;if(null!=e){const t=k(e);h=t instanceof Un?(o=t,Ln(o)):1}else h=0;if(null!=r){const e=k(r);d=e instanceof Un?(s=e,Ln(s)):1}else d=0;if(d>h+2){const o=k(r);if(o instanceof Un){const r=o;if(i=Bn(r),(null!=i?(c=k(i),c instanceof Un?(u=c,Ln(u)):1):0)>h+1){const o=k(Bn(r));if(o instanceof Un){const s=o;return Wn(Wn(e,t,n,Bn(s)),Dn(s),Fn(s),Wn(Pn(s),Dn(r),Fn(r),Pn(r)))}throw new Error("internal error: Map.rebalance")}return Wn(Wn(e,t,n,Bn(r)),Dn(r),Fn(r),Pn(r))}throw new Error("internal error: Map.rebalance")}if(h>d+2){const o=k(e);if(o instanceof Un){const e=o;if(a=Pn(e),(null!=a?(l=k(a),l instanceof Un?(f=l,Ln(f)):1):0)>d+1){const o=k(Pn(e));if(o instanceof Un){const s=o;return Wn(Wn(Bn(e),Dn(e),Fn(e),Bn(s)),Dn(s),Fn(s),Wn(Pn(s),t,n,r))}throw new Error("internal error: Map.rebalance")}return Wn(Bn(e),Dn(e),Fn(e),Wn(Pn(e),t,n,r))}throw new Error("internal error: Map.rebalance")}return Wn(e,t,n,r)}function qn(e,t,n,r){if(null!=r){const o=k(r),s=0|e.Compare(t,Dn(o));if(o instanceof Un){const r=o;return s<0?Jn(qn(e,t,n,Bn(r)),Dn(r),Fn(r),Pn(r)):0===s?Rn(t,n,Bn(r),Pn(r),Ln(r)):Jn(Bn(r),Dn(r),Fn(r),qn(e,t,n,Pn(r)))}return s<0?Rn(t,n,void 0,r,2):0===s?On(t,n):Rn(t,n,r,void 0,2)}return On(t,n)}function zn(e,t,n){e:for(;;){const r=e,o=t;if(null!=n){const s=k(n),i=0|r.Compare(o,Dn(s));if(0===i)return T(Fn(s));if(s instanceof Un){const c=s;e=r,t=o,n=i<0?Bn(c):Pn(c);continue e}return}return}}function $n(e,t){e:for(;;){const n=e;if(null!=t){const r=k(t);if(r instanceof Un){const o=r;$n(n,Bn(o)),n(Dn(o),Fn(o)),e=n,t=Pn(o);continue e}n(Dn(r),Fn(r))}break}}function Xn(e,t){$n(e,t)}function Yn(e,t,n){let r=n;Xn(((e,n)=>{Pe(t,r,[e,n]),r=r+1|0}),e)}function Vn(t,r){if(e(r))return function(e,t){let n;for(let r=0;r<=t.length-1;r++){const o=Be(r,t);n=qn(e,o[0],o[1],n)}return n}(t,r);if(r instanceof Le)return function(e,t){return nt(((t,n)=>qn(e,n[0],n[1],t)),void 0,t)}(t,r);{const e=s(r);try{return function(e,t,n){for(;;){const r=e,o=t,s=n;if(!s["System.Collections.IEnumerator.MoveNext"]())return o;{const i=s["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=qn(r,i[0],i[1],o),n=s}}}(t,void 0,e)}finally{n(e)}}}class Zn extends O{constructor(e,t){super(),this.stack=e,this.started=t}}function Kn(e){e:for(;;){const t=e;if(Ze(t))return Xe();{const n=et(t),r=Qe(t);if(null!=r){const o=k(r);if(o instanceof Un){const t=o;e=rt([Bn(t),On(Dn(t),Fn(t)),Pn(t)],n);continue e}return t}e=n;continue e}}}function Qn(e){return new Zn(Kn(Ve(e)),!1)}function er(e){if(e.started){const t=e.stack;if(Ze(t))return function(){throw new Error("enumeration already finished")}();if(null!=Qe(t)){const e=k(Qe(t));if(e instanceof Un)throw new Error("Please report error: Map iterator, unexpected stack for current");return[Dn(e),Fn(e)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}function tr(e){let t=Qn(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>er(t),"System.Collections.IEnumerator.get_Current":()=>er(t),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const t=e.stack;if(Ze(t))return!1;if(null!=Qe(t)){if(k(Qe(t))instanceof Un)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=Kn(et(t)),!Ze(e.stack)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!Ze(e.stack)}(t),"System.Collections.IEnumerator.Reset"(){t=Qn(e)},Dispose(){}}}class nr{constructor(e,t){this.comparer=e,this.tree=t}GetHashCode(){return 0|function(e){const t=(e,t)=>(e<<1)+t+631;let r=0;const o=s(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const e=o["System.Collections.Generic.IEnumerator`1.get_Current"]();r=0|t(r,g(e[0])),r=0|t(r,g(e[1]))}}finally{n(o)}return 0|r}(this)}Equals(e){if(!(e instanceof nr))return!1;{const t=e,r=s(this);try{const e=s(t);try{const t=()=>{const n=r["System.Collections.IEnumerator.MoveNext"]();if(n===e["System.Collections.IEnumerator.MoveNext"]()){if(n){const n=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=e["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!C(n[0],o[0])||!C(n[1],o[1]))&&t()}return!0}return!1};return t()}finally{n(e)}}finally{n(r)}}}toString(){return"map ["+Ie("; ",Mt((e=>Ee("({0}, {1})",e[0],e[1])),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){return Array.from(this)}GetEnumerator(){return tr(this.tree)}[Symbol.iterator](){return i(s(this))}"System.Collections.IEnumerable.GetEnumerator"(){return tr(this.tree)}CompareTo(e){const t=this;if(e instanceof nr)return 0|function(e,t,r){const o=gt(t);try{const t=gt(r);try{let n=0,r=o["System.Collections.IEnumerator.MoveNext"](),s=t["System.Collections.IEnumerator.MoveNext"]();for(;0===n&&r&&s;)n=0|e(o["System.Collections.Generic.IEnumerator`1.get_Current"](),t["System.Collections.Generic.IEnumerator`1.get_Current"]()),0===n&&(r=o["System.Collections.IEnumerator.MoveNext"](),s=t["System.Collections.IEnumerator.MoveNext"]());return 0|(0!==n?n:r?1:s?-1:0)}finally{n(t)}}finally{n(o)}}(((e,n)=>{const r=0|t.comparer.Compare(e[0],n[0]);return 0|(0!==r?r:E(e[1],n[1]))}),t,e);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return ir(this,e[0])&&C(or(this,e[0]),e[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){Yn(this.tree,e,t)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|sr(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|sr(this)}get size(){return 0|sr(this)}clear(){throw new Error("Map cannot be mutated")}delete(e){throw new Error("Map cannot be mutated")}entries(){return Mt((e=>[e[0],e[1]]),this)}get(e){return or(this,e)}has(e){return ir(this,e)}keys(){return Mt((e=>e[0]),this)}set(e,t){throw new Error("Map cannot be mutated")}values(){return Mt((e=>e[1]),this)}forEach(e,t){const n=this;kt((t=>{e(t[1],t[0],n)}),n)}}function rr(e,t){return new nr(e,t)}function or(e,t){return function(e,t,n){const r=zn(e,t,n);if(null==r)throw new Error;return k(r)}(e.comparer,t,e.tree)}function sr(e){return Hn(e.tree)}function ir(e,t){return function(e,t,n){e:for(;;){const r=e,o=t;if(null!=n){const s=k(n),i=0|r.Compare(o,Dn(s));if(s instanceof Un){const c=s;if(i<0){e=r,t=o,n=Bn(c);continue e}if(0===i)return!0;e=r,t=o,n=Pn(c);continue e}return 0===i}return!1}}(e.comparer,t,e.tree)}function cr(e){return null==e.tree}function ur(e,t){return function(e,t){return zn(e.comparer,t,e.tree)}(t,e)}function ar(e,t){return ir(t,e)}function lr(e,t){return rr(t,Vn(t,e))}function fr(e){return function(e){const t=(e,n)=>{e:for(;;){const r=n;if(null!=e){const o=k(e);if(o instanceof Un){const s=o;e=Bn(s),n=Ye([Dn(s),Fn(s)],t(Pn(s),r));continue e}return Ye([Dn(o),Fn(o)],r)}return r}};return t(e,Xe())}(e.tree)}function hr(e){return function(e){return Oe((e=>e[1]),function(e){const t=0|Hn(e),n=_e(new Array(t),0,t,[null,null]);return Yn(e,n,0),n}(e.tree))}(e)}function dr(e){return function(e){return rr(e,void 0)}(e)}class mr extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,mr.prototype)}}class gr{static get maxTrampolineCallCount(){return 2e3}constructor(){this.callCount=0}incrementAndCheck(){return this.callCount++>gr.maxTrampolineCallCount}hijack(e){this.callCount=0,setTimeout(e,0)}}function pr(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new mr);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack((()=>{try{e(t)}catch(e){t.onError(U(e))}}));else try{e(t)}catch(e){t.onError(U(e))}}}function yr(e,t){return pr((n=>{e({onSuccess:e=>{try{t(e)(n)}catch(e){n.onError(U(e))}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})}))}function wr(e){return pr((t=>t.onSuccess(e)))}const Cr=new class{Bind(e,t){return yr(e,t)}Combine(e,t){return this.Bind(e,(()=>t))}Delay(e){return pr((t=>e()(t)))}For(e,t){const n=e[Symbol.iterator]();let r=n.next();return this.While((()=>!r.done),this.Delay((()=>{const e=t(r.value);return r=n.next(),e})))}Return(e){return wr(e)}ReturnFrom(e){return e}TryFinally(e,t){return pr((n=>{e({onSuccess:e=>{t(),n.onSuccess(e)},onError:e=>{t(),n.onError(e)},onCancel:e=>{t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})}))}TryWith(e,t){return pr((n=>{e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:e=>{try{t(e)(n)}catch(e){n.onError(U(e))}}})}))}Using(e,t){return this.TryFinally(t(e),(()=>e.Dispose()))}While(e,t){return e()?this.Bind(t,(()=>this.While(e,t))):this.Return(void 0)}Zero(){return pr((e=>e.onSuccess(void 0)))}};function vr(e){}const Sr=new class{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const t=this._id;return this._listeners.set(this._id++,e),t}removeListener(e){return this._listeners.delete(e)}register(e,t){const n=this,r=this.addListener(null==t?e:()=>e(t));return{Dispose(){n.removeListener(r)}}}Dispose(){}};function br(e){return pr((t=>e([t.onSuccess,t.onError,t.onCancel])))}function Er(e,t,n,r,o){"function"!=typeof t&&(o=t,t=void 0);const s=new gr;e({onSuccess:t||vr,onError:n||vr,onCancel:r||vr,cancelToken:o||Sr,trampoline:s})}class xr extends G{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"]}}class Ir extends O{constructor(e,t,n,r,o,s,i,c){super(),this.url=e,this.method=t,this.headers=n,this.withCredentials=r,this.overridenMimeType=o,this.overridenResponseType=s,this.timeout=i,this.content=c}}class kr extends G{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Text","Blob","ArrayBuffer","Unknown"]}}class Tr extends O{constructor(e,t,n,r,o,s){super(),this.statusCode=0|e,this.responseText=t,this.responseType=n,this.responseUrl=r,this.responseHeaders=o,this.content=s}}const Mr=new Ir("",new xr(0,[]),Xe(),!1,void 0,void 0,void 0,new class extends G{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Empty","Text","Binary","Form"]}}(0,[]));function Nr(e,t){return xe(t)?new Array(0):function(e,t,n,r){if(r="number"==typeof r?r:0,(n="number"==typeof n?n:void 0)&&n<0)throw new Error("Count cannot be less than zero");if(0===n)return[];const o=!(1&~r),s=!(2&~r);t=(t=(t=t||[]).filter((e=>e)).map(de)).length>0?t:["\\s"];const i=[],c=new RegExp(t.join("|"),"g");let u=!0,a=0;do{const t=c.exec(e);if(null===t){const t=s?e.substring(a).trim():e.substring(a);(!o||t.length>0)&&i.push(t),u=!1}else{const r=s?e.substring(a,t.index).trim():e.substring(a,t.index);(!o||r.length>0)&&(null!=n&&i.length+1===n?(i.push(s?e.substring(a).trim():e.substring(a)),u=!1):i.push(r)),a=c.lastIndex}}while(u);return i}(t,[e],void 0,0)}function Ar(e){if(!(this instanceof Ar))return new Ar(e);this._=e}new Tr(0,"","","",dr({Compare:S}),new kr(0,[""]));var _r=Ar.prototype;function Gr(e,t,n){return function(e,t){!function(e,t){for(var n=0;n<e;n++)t(n)}(t.length,(function(n){e(t[n],n,t)}))}((function(n,r,o){t=e(t,n,r,o)}),n),t}function Or(e,t){return Gr((function(t,n,r,o){return t.concat([e(n,r,o)])}),[],t)}function Dr(e){return e instanceof Ar}function Fr(e){return"[object Array]"==={}.toString.call(e)}function Ur(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)}function Rr(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function Br(e,t){return Fr(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function Pr(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=!0;for(var o=0;o<t.length;o++)n[t[o]]=!0;var s=[];for(var i in n)({}).hasOwnProperty.call(n,i)&&s.push(i);return s.sort(),s}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}function Lr(e,t){if(Ur(e))return{offset:t,line:-1,column:-1};var n=e.slice(0,t).split("\n");return{offset:t,line:n.length,column:n[n.length-1].length+1}}function jr(e){if(!Dr(e))throw new Error("not a parser: "+e)}function Hr(e,t){return"string"==typeof e?e.charAt(t):e[t]}function Wr(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function Jr(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function qr(e){if("string"!=typeof e)throw new Error("not a string: "+e)}function zr(e,t){return new Array(t+1).join(e)}function $r(e,t,n){var r=t-e.length;return r<=0?e:zr(n,r)+e}function Xr(e,t,n,r){return{from:e-t>0?e-t:0,to:e+n>r?r:e+n}}function Yr(e,t){var n,r,o,s,i,c=t.index,u=c.offset,a=1;if(u===e.length)return"Got the end of the input";if(Ur(e)){var l=u-u%8,f=u-l,h=Xr(l,40,40,e.length),d=function(e){var t=e.length,n=[],r=0;if(t<=8)return[e.slice()];for(var o=0;o<t;o++)n[r]||n.push([]),n[r].push(e[o]),(o+1)%8==0&&r++;return n}(e.slice(h.from,h.to).toJSON().data),m=Or((function(e){return Or((function(e){return $r(e.toString(16),2,"0")}),e)}),d);s=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/8,to:Math.floor(e.to/8)}}(h),r=l/8,n=3*f,f>=4&&(n+=1),a=2,o=Or((function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")}),m),(i=(8*(s.to>0?s.to-1:s.to)).toString(16).length)<2&&(i=2)}else{var g=e.split(/\r\n|[\n\r\u2028\u2029]/);n=c.column-1,r=c.line-1,s=Xr(r,2,3,g.length),o=g.slice(s.from,s.to),i=s.to.toString().length}var p=r-s.from;Ur(e)&&(i=(8*(s.to>0?s.to-1:s.to)).toString(16).length)<2&&(i=2);var y=Gr((function(t,r,o){var c,u=o===p,l=u?"> ":"  ";return c=Ur(e)?$r((8*(s.from+o)).toString(16),i,"0"):$r((s.from+o+1).toString(),i," "),[].concat(t,[l+c+" | "+r],u?["  "+zr(" ",i)+" | "+$r("",n," ")+zr("^",a)]:[])}),[],o);return y.join("\n")}function Vr(e){var t=""+e;return t.slice(t.lastIndexOf("/")+1)}function Zr(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)jr(e[n]);return Ar((function(n,r){for(var o,s=new Array(t),i=0;i<t;i+=1){if(!(o=Pr(e[i]._(n,r),o)).status)return o;s[i]=o.value,r=o.index}return Pr(Rr(r,s),o)}))}function Kr(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var t=e.pop();return Jr(t),Zr.apply(null,e).map((function(e){return t.apply(null,e)}))}function Qr(){var e=[].slice.call(arguments),t=e.length;if(0===t)return oo("zero alternates");for(var n=0;n<t;n+=1)jr(e[n]);return Ar((function(t,n){for(var r,o=0;o<e.length;o+=1)if((r=Pr(e[o]._(t,n),r)).status)return r;return r}))}function eo(e,t){return jr(e),jr(t),Kr(e,t.then(e).many(),(function(e,t){return[e].concat(t)}))}function to(e){qr(e);var t="'"+e+"'";return Ar((function(n,r){var o=r+e.length,s=n.slice(r,o);return s===e?Rr(o,s):Br(r,t)}))}function no(e,t){!function(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=Vr(e),n=0;n<t.length;n++){var r=t.charAt(n);if("i"!==r&&"m"!==r&&"u"!==r)throw new Error('unsupported regexp flag "'+r+'": '+e)}}(e),arguments.length>=2?Wr(t):t=0;var n=function(e){return RegExp("^(?:"+e.source+")",Vr(e))}(e),r=""+e;return Ar((function(e,o){var s=n.exec(e.slice(o));if(s){if(0<=t&&t<=s.length){var i=s[0],c=s[t];return Rr(o+i.length,c)}return Br(o,"valid match group (0 to "+s.length+") in "+r)}return Br(o,r)}))}function ro(e){return Ar((function(t,n){return Rr(n,e)}))}function oo(e){return Ar((function(t,n){return Br(n,e)}))}function so(e){if(Dr(e))return Ar((function(t,n){var r=e._(t,n);return r.index=n,r.value="",r}));if("string"==typeof e)return so(to(e));if(e instanceof RegExp)return so(no(e));throw new Error("not a string, regexp, or parser: "+e)}function io(e){return Jr(e),Ar((function(t,n){var r=Hr(t,n);return n<t.length&&e(r)?Rr(n+1,r):Br(n,"a character/byte matching "+e)}))}_r.parse=function(e){if("string"!=typeof e&&!Ur(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t=this.skip(uo)._(e,0);return t.status?{status:!0,value:t.value}:{status:!1,index:Lr(e,t.furthest),expected:t.expected}},_r.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=function(e,t){return["\n","-- PARSING FAILED "+zr("-",50),"\n\n",Yr(e,t),"\n\n",(n=t.expected,1===n.length?"Expected:\n\n"+n[0]:"Expected one of the following: \n\n"+n.join(", ")),"\n"].join("");var n}(e,t),r=new Error(n);throw r.type="ParsimmonError",r.result=t,r},_r.or=function(e){return Qr(this,e)},_r.trim=function(e){return this.wrap(e,e)},_r.wrap=function(e,t){return Kr(e,this,t,(function(e,t){return t}))},_r.thru=function(e){return e(this)},_r.then=function(e){return jr(e),Zr(this,e).map((function(e){return e[1]}))},_r.many=function(){var e=this;return Ar((function(t,n){for(var r=[],o=void 0;;){if(!(o=Pr(e._(t,n),o)).status)return Pr(Rr(n,r),o);if(n===o.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=o.index,r.push(o.value)}}))},_r.tieWith=function(e){return qr(e),this.map((function(t){if(function(e){if(!Fr(e))throw new Error("not an array: "+e)}(t),t.length){qr(t[0]);for(var n=t[0],r=1;r<t.length;r++)qr(t[r]),n+=e+t[r];return n}return""}))},_r.tie=function(){return this.tieWith("")},_r.times=function(e,t){var n=this;return arguments.length<2&&(t=e),Wr(e),Wr(t),Ar((function(r,o){for(var s=[],i=void 0,c=void 0,u=0;u<e;u+=1){if(c=Pr(i=n._(r,o),c),!i.status)return c;o=i.index,s.push(i.value)}for(;u<t&&(c=Pr(i=n._(r,o),c),i.status);u+=1)o=i.index,s.push(i.value);return Pr(Rr(o,s),c)}))},_r.result=function(e){return this.map((function(){return e}))},_r.atMost=function(e){return this.times(0,e)},_r.atLeast=function(e){return Kr(this.times(e),this.many(),(function(e,t){return e.concat(t)}))},_r.map=function(e){Jr(e);var t=this;return Ar((function(n,r){var o=t._(n,r);return o.status?Pr(Rr(o.index,e(o.value)),o):o}))},_r.contramap=function(e){Jr(e);var t=this;return Ar((function(n,r){var o=t.parse(e(n.slice(r)));return o.status?Rr(r+n.length,o.value):o}))},_r.promap=function(e,t){return Jr(e),Jr(t),this.contramap(e).map(t)},_r.skip=function(e){return Zr(this,e).map((function(e){return e[0]}))},_r.mark=function(){return Kr(co,this,co,(function(e,t,n){return{start:e,value:t,end:n}}))},_r.node=function(e){return Kr(co,this,co,(function(t,n,r){return{name:e,value:n,start:t,end:r}}))},_r.sepBy=function(e){return function(e,t){return eo(e,t).or(ro([]))}(this,e)},_r.sepBy1=function(e){return eo(this,e)},_r.lookahead=function(e){return this.skip(so(e))},_r.notFollowedBy=function(e){return this.skip((jr(t=e),Ar((function(e,n){var r=t._(e,n),o=e.slice(n,r.index);return r.status?Br(n,'not "'+o+'"'):Rr(n,null)}))));var t},_r.desc=function(e){Fr(e)||(e=[e]);var t=this;return Ar((function(n,r){var o=t._(n,r);return o.status||(o.expected=e),o}))},_r.fallback=function(e){return this.or(ro(e))},_r.ap=function(e){return Kr(e,this,(function(e,t){return e(t)}))},_r.chain=function(e){var t=this;return Ar((function(n,r){var o=t._(n,r);return o.status?Pr(e(o.value)._(n,o.index),o):o}))},_r.concat=_r.or,_r.empty=function(){return oo("fantasy-land/empty")},_r.of=ro,_r["fantasy-land/ap"]=_r.ap,_r["fantasy-land/chain"]=_r.chain,_r["fantasy-land/concat"]=_r.concat,_r["fantasy-land/empty"]=_r.empty,_r["fantasy-land/of"]=_r.of,_r["fantasy-land/map"]=_r.map;const co=Ar((function(e,t){return Rr(t,Lr(e,t))})),uo=(Ar((function(e,t){return t>=e.length?Br(t,"any character/byte"):Rr(t+1,Hr(e,t))})),Ar((function(e,t){return Rr(e.length,e.slice(t))})),Ar((function(e,t){return t<e.length?Br(t,"EOF"):Rr(t,null)}))),ao=no(/[0-9]/).desc("a digit"),lo=(no(/[0-9]*/).desc("optional digits"),no(/[a-z]/i).desc("a letter"),no(/[a-z]*/i).desc("optional letters"),no(/\s*/).desc("optional whitespace")),fo=(no(/\s+/).desc("whitespace"),to("\r")),ho=to("\n"),mo=Qr(to("\r\n"),ho,fo).desc("newline");function go(e){return e.many()}Qr(mo,uo);const po=function(e,t){arguments.length<2&&(t=e,e=void 0);var n=Ar((function(e,r){return n._=t()._,n._(e,r)}));return e?n.desc(e):n},yo=ao;function wo(e,t){return t.sepBy(e)}function Co(e,t,n){return r=t,o=n,e.then(o).skip(r);var r,o}function vo(e,t){return t.map(e)}function So(e){return function(e,t){if(Je(t))throw new Error(Ne);return nt(e,Qe(t),et(t))}(((e,t)=>e.or(t)),e)}go(yo);const bo=io,Eo=to,xo=lo;function Io(e,t){return vo((e=>t),Eo(e))}const ko=Zr;function To(e){return e.map((e=>Ie("",e)))}const Mo=Zr;class No extends G{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["JNumber","JString","JBool","JNull","JArray","JObject"]}}const Ao=vo(gn,To(yo.atLeast(1))),_o=vo((e=>-e[1]),ko(Eo("-"),Ao)),Go=vo(gn,So(ot([no(new RegExp("-?(0|[1-9][0-9]*)?[.][0-9]+([eE][+-]?[0-9]+)?")),no(new RegExp("-?[1-9][0-9]*[eE][+-]?[0-9]+"))]))),Oo=vo((e=>new No(0,[e])),So(ot([Go,Ao,_o]))),Do=So(ot([Io("true",new No(2,[!0])),Io("false",new No(2,[!1]))])),Fo=Io("null",new No(3,[])),Uo=(()=>{const e=vo((e=>{switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:return e}}),function(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return io((function(t){return e.indexOf(t)>=0})).desc(t)}('"\\/bfnrt')),t=To(go(function(e,t){return t.or(e)}(vo((e=>e[1]),ko(Eo("\\"),e)),bo((e=>'"'!==e&&"\\"!==e)))));return Co(Eo('"'),Eo('"'),t)})();function Ro(e){return Co(xo,xo,e)}const Bo=So(it(Ro,ot([Fo,Do,Oo,Uo.map((e=>new No(1,[e])))]))),Po=Ro(Eo(",")),Lo=new c((function(){return po((()=>So(ot([Bo,vo((e=>new No(4,[ot(e)])),Co(Ro(Eo("[")),Ro(Eo("]")),wo(Po,Lo.Value))),vo((e=>new No(5,[lr(ot(e),{Compare:S})])),Co(Ro(Eo("{")),Ro(Eo("}")),wo(Po,vo((e=>[e[0],e[2]]),Mo(Ro(Uo),Ro(Eo(":")),Ro(Lo.Value))))))]))))})),jo=Ro(Lo.Value);function Ho(e){return function(e,t){const n=t.parse(e);return n.status?T(n.value):void 0}(e,jo)}function Wo(e){const t=Ho(e);return null==t?ve(ye("Could not parse the JSON input: %s"))(e):t}function Jo(e){switch(e.tag){case 2:return e.fields[0]?"true":"false";case 0:return e.fields[0].toString();case 1:return Ce(ye('"%s"'))(e.fields[0]);case 4:{const t=Ie(",",it(Jo,e.fields[0]));return Ce(ye("[%s]"))(t)}case 5:{const t=Ie(",",it((e=>{const t=Jo(e[1]);return Ce(ye('"%s":%s'))(e[0])(t)}),fr(e.fields[0])));return Ce(ye("{%s}"))(t)}default:return"null"}}function qo(e){switch(e.tag){case 2:case 0:case 1:return e.fields[0];case 4:{const t=[],r=s(e.fields[0]);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const e=r["System.Collections.Generic.IEnumerator`1.get_Current"]();t.push(qo(e))}}finally{n(r)}return t}case 5:{const t={},r=s(fr(e.fields[0]));try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const e=r["System.Collections.Generic.IEnumerator`1.get_Current"]();t[e[0]]=qo(e[1])}}finally{n(r)}return t}default:return null}}function zo(e){const t=function(e){return"string"==typeof e?e:void 0}(e);if(null!=t)return new No(1,[t]);{const t=function(e){return"number"==typeof e?e:void 0}(e);if(null!=t)return new No(0,[t]);{const t=function(e){return"boolean"==typeof e?e:void 0}(e);if(null!=t)return new No(2,[t]);if(null!=function(e){return null==e?T(e):void 0}(e))return new No(3,[]);{const t=function(e){return Array.isArray(e)?e:void 0}(e);if(null!=t)return new No(4,[ot(Oe(zo,t))]);{const t=function(e){return"object"==typeof e?T(e):void 0}(e);if(null!=t){const e=k(t);return new No(5,[lr(St(pt((()=>Mt((t=>[t,zo(e[t])]),Object.keys(e))))),{Compare:S})])}return new No(3,[])}}}}}function $o(e){return zo(JSON.parse(e))}var Xo;function Yo(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Vo(e,t,n){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=r){const[,,e,o]=r;n=n||function(e,t){if(t&Xo.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(e,t);const s=function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n);if(!s.test(o))return function(e,t){const[,n,r,o]=e;return{sign:n||"",prefix:r||"",digits:o,radix:t}}(r,n)}return null}function Zo(e,t,n,r,o){const s=Vo(e,t,o);if(null!=s){let e=Number.parseInt(s.sign+s.digits,s.radix);if(!Number.isNaN(e)){const[t,o]=Yo(!0,r);!n&&10!==s.radix&&e>=t&&e<=o&&(e=e<<32-r>>32-r);const[i,c]=Yo(n,r);if(e>=i&&e<=c)return e}}throw new Error(`The input string ${e} was not in a correct format.`)}function Ko(e,t,n,r,o){try{return o.contents=Zo(e,t,n,r),!0}catch{return!1}}!function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(Xo||(Xo={}));const Qo=e=>({tag:"ok",value:e}),es=e=>({tag:"error",error:e});class ts{constructor(e){this.uri=e}static isAbsoluteUri(e){try{return new URL(e),!0}catch{return!1}}static tryCreateWithKind(e,t){switch(t){case 1:return ts.isAbsoluteUri(e)?Qo(new ts({original:e,value:new URL(e),kind:t})):es("Invalid URI: The format of the URI could not be determined.");case 2:return ts.isAbsoluteUri(e)?es("URI is not a relative path."):Qo(new ts({original:e,value:e,kind:t}));case 0:return ts.isAbsoluteUri(e)?Qo(new ts({original:e,value:new URL(e),kind:1})):Qo(new ts({original:e,value:e,kind:2}));default:return t}}static tryCreateWithBase(e,t){return 1!==e.uri.kind?es("Base URI should have Absolute kind"):"string"==typeof t?Qo(new ts({original:new URL(t,e.uri.value).toString(),value:new URL(t,e.uri.value),kind:1})):2===t.uri.kind?Qo(new ts({original:new URL(t.uri.value,e.uri.value).toString(),value:new URL(t.uri.value,e.uri.value),kind:1})):Qo(e)}static tryCreateImpl(e,t=1){return"string"==typeof e?"number"!=typeof t?es("Kind must be specified when the baseUri is a string."):ts.tryCreateWithKind(e,t):"number"==typeof t?es("Kind should not be specified when the baseUri is an absolute Uri."):ts.tryCreateWithBase(e,t)}static create(e,t=1){const n=ts.tryCreateImpl(e,t);switch(n.tag){case"ok":return n.value;case"error":throw new Error(n.error);default:return n}}static tryCreate(e,t=1,n){const r=ts.tryCreateImpl(e,t);switch(r.tag){case"ok":return n.contents=r.value,!0;case"error":return!1;default:return r}}toString(){switch(this.uri.kind){case 1:return decodeURIComponent(this.asUrl().toString());case 2:return this.uri.value;default:return this.uri}}asUrl(){switch(this.uri.kind){case 1:return this.uri.value;case 2:throw new Error("This operation is not supported for a relative URI.");default:return this.uri}}get isAbsoluteUri(){return 1===this.uri.kind}get absoluteUri(){return this.asUrl().href}get scheme(){const e=this.asUrl().protocol;return e.slice(0,e.length-1)}get host(){const e=this.asUrl().host;return e.includes(":")?e.split(":")[0]:e}get absolutePath(){return this.asUrl().pathname}get query(){return this.asUrl().search}get isDefaultPort(){return 80===this.port}get port(){const e=this.asUrl().port;return""===e?80:parseInt(e)}get pathAndQuery(){const e=this.asUrl();return e.pathname+e.search}get fragment(){return this.asUrl().hash}get originalString(){return this.uri.original}}var ns={},rs=1e6,os="[big.js] ",ss=os+"Invalid ",is=ss+"decimal places",cs=ss+"rounding mode",us=os+"Division by zero",as=void 0,ls=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function fs(e,t){var n,r,o;if(!ls.test(t))throw Error(ss+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),o=t.length,r=0;r<n&&r<o&&"0"==t.charAt(r);)++r;if(r==o)e.c=[e.e=0];else for(e.e=n-r-1,e.c=[],n=0;r<o;)e.c[n++]=+t.charAt(r++);return hs(e,ms.DP+1,ms.RM)}function hs(e,t,n,r){var o=e.c;if(n===as&&(n=ms.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(cs);if(t<1)r=3===n&&(r||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(r||o[1]!==as))),o.length=1,r?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){const s=o.findIndex(((e,n)=>n>=t&&e>0))<0;if(r=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(r||o[t+1]!==as||1&o[t-1]))||3===n&&(r||!s),o.length=t--,r)for(;++o[t]>9;)o[t]=0,t--||(++e.e,o.unshift(1));for(t=o.length;!o[--t];)o.pop()}return e}function ds(e,t,n){var r=e.e,o=e.c.join(""),s=o.length;if(t)o=o.charAt(0)+(s>1?"."+o.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)o="0"+o;o="0."+o}else if(r>0)if(++r>s)for(r-=s;r--;)o+="0";else r<s&&(o=o.slice(0,r)+"."+o.slice(r));else s>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}ns.abs=function(){var e=new this.constructor(this);return e.s=1,e},ns.cmp=function(e){var t,n=this.constructor,r=new n(this),o=(e=new n(e),r.c),s=e.c,i=r.s,c=e.s,u=r.e,a=e.e;if(!o[0]||!s[0])return o[0]?i:s[0]?-c:0;if(i!=c)return i;if(t=i<0,u!=a)return u>a^t?1:-1;for(c=Math.max(o.length,s.length),i=0;i<c;i++)if((u=i<o.length?o[i]:0)!=(a=i<s.length?s[i]:0))return u>a^t?1:-1;return 0},ns.div=function(e){var t=this.constructor,n=new t(this),r=(e=new t(e),n.c),o=e.c,s=n.s==e.s?1:-1,i=t.DP;if(i!==~~i||i<0||i>rs)throw Error(is);if(!o[0])throw Error(us);if(!r[0])return e.s=s,e.c=[e.e=0],e;var c,u,a,l,f,h=o.slice(),d=c=o.length,m=r.length,g=r.slice(0,c),p=g.length,y=e,w=y.c=[],C=0,v=i+(y.e=n.e-e.e)+1;for(y.s=s,s=v<0?0:v,h.unshift(0);p++<c;)g.push(0);do{for(a=0;a<10;a++){if(c!=(p=g.length))l=c>p?1:-1;else for(f=-1,l=0;++f<c;)if(o[f]!=g[f]){l=o[f]>g[f]?1:-1;break}if(!(l<0))break;for(u=p==c?o:h;p;){if(g[--p]<u[p]){for(f=p;f&&!g[--f];)g[f]=9;--g[f],g[p]+=10}g[p]-=u[p]}for(;!g[0];)g.shift()}w[C++]=l?a:++a,g[0]&&l?g[p]=r[d]||0:g=[r[d]]}while((d++<m||g[0]!==as)&&s--);return w[0]||1==C||(w.shift(),y.e--,v--),C>v&&hs(y,v,t.RM,g[0]!==as),y},ns.eq=function(e){return 0===this.cmp(e)},ns.gt=function(e){return this.cmp(e)>0},ns.gte=function(e){return this.cmp(e)>-1},ns.lt=function(e){return this.cmp(e)<0},ns.lte=function(e){return this.cmp(e)<1},ns.minus=ns.sub=function(e){var t,n,r,o,s=this.constructor,i=new s(this),c=(e=new s(e),i.s),u=e.s;if(c!=u)return e.s=-u,i.plus(e);var a=i.c.slice(),l=i.e,f=e.c,h=e.e;if(!a[0]||!f[0])return f[0]?e.s=-u:a[0]?e=new s(i):e.s=1,e;if(c=l-h){for((o=c<0)?(c=-c,r=a):(h=l,r=f),r.reverse(),u=c;u--;)r.push(0);r.reverse()}else for(n=((o=a.length<f.length)?a:f).length,c=u=0;u<n;u++)if(a[u]!=f[u]){o=a[u]<f[u];break}if(o&&(r=a,a=f,f=r,e.s=-e.s),(u=(n=f.length)-(t=a.length))>0)for(;u--;)a[t++]=0;for(u=t;n>c;){if(a[--n]<f[n]){for(t=n;t&&!a[--t];)a[t]=9;--a[t],a[n]+=10}a[n]-=f[n]}for(;0===a[--u];)a.pop();for(;0===a[0];)a.shift(),--h;return a[0]||(e.s=1,a=[h=0]),e.c=a,e.e=h,e},ns.mod=function(e){var t,n=this.constructor,r=new n(this),o=(e=new n(e),r.s),s=e.s;if(!e.c[0])throw Error(us);return r.s=e.s=1,t=1==e.cmp(r),r.s=o,e.s=s,t?new n(r):(o=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=o,n.RM=s,this.minus(r.times(e)))},ns.plus=ns.add=function(e){var t,n,r,o=this.constructor,s=new o(this);if(e=new o(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var i=s.e,c=s.c,u=e.e,a=e.c;if(!c[0]||!a[0])return a[0]||(c[0]?e=new o(s):e.s=s.s),e;if(c=c.slice(),t=i-u){for(t>0?(u=i,r=a):(t=-t,r=c),r.reverse();t--;)r.push(0);r.reverse()}for(c.length-a.length<0&&(r=a,a=c,c=r),t=a.length,n=0;t;c[t]%=10)n=(c[--t]=c[t]+a[t]+n)/10|0;for(n&&(c.unshift(n),++u),t=c.length;0===c[--t];)c.pop();return e.c=c,e.e=u,e},ns.pow=function(e){var t=this.constructor,n=new t(this),r=new t("1"),o=new t("1"),s=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(ss+"exponent");for(s&&(e=-e);1&e&&(r=r.times(n)),e>>=1;)n=n.times(n);return s?o.div(r):r},ns.prec=function(e,t){if(e!==~~e||e<1||e>rs)throw Error(ss+"precision");return hs(new this.constructor(this),e,t)},ns.round=function(e,t){if(e===as)e=0;else if(e!==~~e||e<-rs||e>rs)throw Error(is);return hs(new this.constructor(this),e+this.e+1,t)},ns.sqrt=function(){var e,t,n,r=this.constructor,o=new r(this),s=o.s,i=o.e,c=new r("0.5");if(!o.c[0])return new r(o);if(s<0)throw Error(os+"No square root");0===(s=Math.sqrt(o+""))||s===1/0?((t=o.c.join("")).length+i&1||(t+="0"),i=((i+1)/2|0)-(i<0||1&i),e=new r(((s=Math.sqrt(t))==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+i)):e=new r(s+""),i=e.e+(r.DP+=4);do{n=e,e=c.times(n.plus(o.div(n)))}while(n.c.slice(0,i).join("")!==e.c.slice(0,i).join(""));return hs(e,(r.DP-=4)+e.e+1,r.RM)},ns.times=ns.mul=function(e){var t,n=this.constructor,r=new n(this),o=(e=new n(e),r.c),s=e.c,i=o.length,c=s.length,u=r.e,a=e.e;if(e.s=r.s==e.s?1:-1,!o[0]||!s[0])return e.c=[e.e=0],e;for(e.e=u+a,i<c&&(t=o,o=s,s=t,a=i,i=c,c=a),t=new Array(a=i+c);a--;)t[a]=0;for(u=c;u--;){for(c=0,a=i+u;a>u;)c=t[a]+s[u]*o[a-u-1]+c,t[a--]=c%10,c=c/10|0;t[a]=c}for(c?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},ns.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==as){if(e!==~~e||e<0||e>rs)throw Error(is);for(n=hs(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return ds(n,!0,!!r)},ns.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==as){if(e!==~~e||e<0||e>rs)throw Error(is);for(e=e+(n=hs(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return ds(n,!1,!!r)},ns.toJSON=ns.toString=function(){var e=this,t=e.constructor;return ds(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},ns.toNumber=function(){var e=Number(ds(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(os+"Imprecise conversion");return e},ns.toPrecision=function(e,t){var n=this,r=n.constructor,o=n.c[0];if(e!==as){if(e!==~~e||e<1||e>rs)throw Error(ss+"precision");for(n=hs(new r(n),e,t);n.c.length<e;)n.c.push(0)}return ds(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!o)},ns.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(os+"valueOf disallowed");return ds(e,e.e<=t.NE||e.e>=t.PE,!0)};var ms=function e(){function t(n){var r=this;if(!(r instanceof t))return n===as?e():new t(n);if(n instanceof t)r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(e){if(e.c.length>1&&!e.c[0]){let t=e.c.findIndex((e=>e));e.c=e.c.slice(t),e.e=e.e-t}}(r);else{if("string"!=typeof n){if(!0===t.strict)throw TypeError(ss+"number");n=0===n&&1/n<0?"-0":String(n)}fs(r,n)}r.constructor=t}return t.prototype=ns,t.DP=28,t.RM=1,t.NE=-29,t.PE=29,t.strict=!1,t}();const gs=ms;gs.prototype.GetHashCode=function(){return m([this.s,this.e].concat(this.c))},gs.prototype.Equals=function(e){return!this.cmp(e)},gs.prototype.CompareTo=function(e){return this.cmp(e)},gs.prototype[ie]=function(){const e=this;return{multiply:t=>e.mul(t),toPrecision:t=>e.toPrecision(t),toExponential:t=>e.toExponential(t),toFixed:t=>e.toFixed(t),toHex:()=>(Number(e)>>>0).toString(16)}};const ps=gs;function ys(e){return BigInt(Math.trunc(e))}function ws(e){return BigInt.asIntN(64,e)}function Cs(e){return BigInt.asUintN(64,e)}function vs(e,t,n,r,o){const s=Vo(e,t,o);if(null!=s){const t=(e,t)=>{const n=Math.max(e.length,t.length);return e.padStart(n,"0")<=t.padStart(n,"0")},r="-"===s.sign,o=function(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}(n||10!==s.radix,s.radix,r);if(t(s.digits.toUpperCase(),o))return e=function(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:default:return"";case 16:return"0x"}}(s.radix)+s.digits,e=r?s.sign+e:e,BigInt(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function Ss(e,t,n,r,o){try{return o.contents=vs(e,t,n),!0}catch{return!1}}function bs(e,t){!function(e){if(null!=e&&0!==e){if(e%6e4!=0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}(t);const n=new Date(e);return n.offset=null!=t?t:-6e4*(new Date).getTimezoneOffset(),n}function Es(e){const[t,n]=V(e),r=null==n?-6e4*t.getTimezoneOffset():"Z"===n?0:6e4*n;return bs(t.getTime(),r)}function xs(e){return t=864000000000n*BigInt(e),Y(Number(BigInt(t)/10000n-62135596800000n),1);var t}new gs(0),new gs(1),new gs(-1),new gs("79228162514264337593543950335"),new gs("-79228162514264337593543950335"),BigInt.prototype.toJSON=function(){return`${this.toString()}`},new Uint8Array([48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102]);const Is=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,ks=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,Ts=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Ms(e){function t(e){return e.replace(ks,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(Is.test(n))return function(e,...t){if(0===t.length)return e.trim();const n="["+de(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}(n,"{","}","(",")");if(ks.test(n))return t(n);if(Ts.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}const Ns=!0;function As(e){const t=new Uint8Array(4);return new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(0,e,Ns),t}function _s(e,t){const n=ArrayBuffer.isView(e)?e:Uint8Array.from(e);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(t,Ns)}class Gs extends O{constructor(e,t,n){super(),this.FieldName=e,this.FieldType=t,this.PropertyInfo=n}}class Os extends O{constructor(e,t,n){super(),this.CaseName=e,this.CaseTypes=t,this.Info=n}}class Ds extends G{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Unit","Char","String","UInt16","UInt32","UInt64","Int32","Bool","Float32","Float","Decimal","Short","Long","Byte","SByte","DateTime","DateTimeOffset","DateOnly","TimeOnly","BigInt","TimeSpan","Guid","Uri","Object","Any","Async","Promise","Option","List","Set","Array","Seq","Tuple","Map","Dictionary","ResizeArray","HashSet","Func","Enum","Record","Union"]}}function Fs(e,t,n){return!!e.has(t)&&(n.contents=e.get(t),!0)}function Us(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function Rs(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}class Bs{constructor(e,t){const r=new D(null);this.comparer=t,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const o=s(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const e=o["System.Collections.Generic.IEnumerator`1.get_Current"]();qs(r.contents,e[0],e[1])}}finally{n(o)}}get[Symbol.toStringTag](){return"Dictionary"}toJSON(){return Array.from(this)}"System.Collections.IEnumerable.GetEnumerator"(){return s(this)}GetEnumerator(){return s(yt(this.hashMap.values()))}[Symbol.iterator](){return i(s(this))}"System.Collections.Generic.ICollection`1.Add2B595"(e){qs(this,e[0],e[1])}"System.Collections.Generic.ICollection`1.Clear"(){js(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(e){const t=Ls(this,e[0]);let n,r;return null!=t&&C(k(t)[1],e[1])?(n=0,r=k(t)):n=1,0===n}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){Tt(((n,r)=>{Pe(e,t+n,r)}),this)}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Hs(this)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(e){const t=Ls(this,e[0]);return null!=t&&(C(k(t)[1],e[1])&&$s(this,e[0]),!0)}"System.Collections.Generic.IDictionary`2.Add5BDDA1"(e,t){qs(this,e,t)}"System.Collections.Generic.IDictionary`2.ContainsKey2B595"(e){return zs(this,e)}"System.Collections.Generic.IDictionary`2.get_Item2B595"(e){return Ws(this,e)}"System.Collections.Generic.IDictionary`2.set_Item5BDDA1"(e,t){Js(this,e,t)}"System.Collections.Generic.IDictionary`2.get_Keys"(){const e=this;return vt(pt((()=>Mt((e=>e[0]),e))))}"System.Collections.Generic.IDictionary`2.Remove2B595"(e){return $s(this,e)}"System.Collections.Generic.IDictionary`2.TryGetValue6DC89625"(e,t){const n=Ls(this,e);if(null!=n){const e=k(n);return t.contents=e[1],!0}return!1}"System.Collections.Generic.IDictionary`2.get_Values"(){const e=this;return vt(pt((()=>Mt((e=>e[1]),e))))}get size(){return 0|Hs(this)}clear(){js(this)}delete(e){return $s(this,e)}entries(){return Mt((e=>[e[0],e[1]]),this)}get(e){return Ws(this,e)}has(e){return zs(this,e)}keys(){return Mt((e=>e[0]),this)}set(e,t){return Js(this,e,t),this}values(){return Mt((e=>e[1]),this)}forEach(e,t){const n=this;kt((t=>{e(t[1],t[0],n)}),n)}}function Ps(e,t){const n=0|e.comparer.GetHashCode(t);let r,o=null;return r=[Fs(e.hashMap,n,new D((()=>o),(e=>{o=e}))),o],r[0]?[!0,n,r[1].findIndex((n=>e.comparer.Equals(t,n[0])))]:[!1,n,-1]}function Ls(e,t){const n=Ps(e,t);let r;if(r=n[0]&&n[2]>-1?0:1,0===r)return Rs(e.hashMap,n[1])[n[2]]}function js(e){e.hashMap.clear()}function Hs(e){let t=0,r=s(e.hashMap.values());try{for(;r["System.Collections.IEnumerator.MoveNext"]();)t=t+r["System.Collections.Generic.IEnumerator`1.get_Current"]().length|0}finally{n(r)}return 0|t}function Ws(e,t){const n=Ls(e,t);if(null!=n)return k(n)[1];throw new Error("The item was not found in collection")}function Js(e,t,n){const r=Ps(e,t);r[0]?r[2]>-1?Rs(e.hashMap,r[1])[r[2]]=[t,n]:Rs(e.hashMap,r[1]).push([t,n]):e.hashMap.set(r[1],[[t,n]])}function qs(e,t,n){const r=Ps(e,t);if(r[0]){if(r[2]>-1)throw new Error(Ee("An item with the same key has already been added. Key: {0}",t));Rs(e.hashMap,r[1]).push([t,n])}else e.hashMap.set(r[1],[[t,n]])}function zs(e,t){const n=Ps(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r}function $s(e,t){const n=Ps(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r&&(Rs(e.hashMap,n[1]).splice(n[2],1),!0)}class Xs{constructor(e,t){const r=new D(null);this.comparer=t,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const o=s(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const e=o["System.Collections.Generic.IEnumerator`1.get_Current"]();Ks(r.contents,e)}}finally{n(o)}}get[Symbol.toStringTag](){return"HashSet"}toJSON(){return Array.from(this)}"System.Collections.IEnumerable.GetEnumerator"(){return s(this)}GetEnumerator(){return s(yt(this.hashMap.values()))}[Symbol.iterator](){return i(s(this))}"System.Collections.Generic.ICollection`1.Add2B595"(e){Ks(this,e)}"System.Collections.Generic.ICollection`1.Clear"(){Vs(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return Qs(this,e)}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){Tt(((n,r)=>{Pe(e,t+n,r)}),this)}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Zs(this)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(e){return ei(this,e)}get size(){return 0|Zs(this)}add(e){return Ks(this,e),this}clear(){Vs(this)}delete(e){return ei(this,e)}has(e){return Qs(this,e)}keys(){return Mt((e=>e),this)}values(){return Mt((e=>e),this)}entries(){return Mt((e=>[e,e]),this)}forEach(e,t){const n=this;kt((t=>{e(t,t,n)}),n)}}function Ys(e,t){const n=0|e.comparer.GetHashCode(t);let r,o=null;return r=[Fs(e.hashMap,n,new D((()=>o),(e=>{o=e}))),o],r[0]?[!0,n,r[1].findIndex((n=>e.comparer.Equals(t,n)))]:[!1,n,-1]}function Vs(e){e.hashMap.clear()}function Zs(e){let t=0,r=s(e.hashMap.values());try{for(;r["System.Collections.IEnumerator.MoveNext"]();)t=t+r["System.Collections.Generic.IEnumerator`1.get_Current"]().length|0}finally{n(r)}return 0|t}function Ks(e,t){const n=Ys(e,t);return n[0]?!(n[2]>-1)&&(Rs(e.hashMap,n[1]).push(t),!0):(e.hashMap.set(n[1],[t]),!0)}function Qs(e,t){const n=Ys(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r}function ei(e,t){const n=Ys(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r&&(Rs(e.hashMap,n[1]).splice(n[2],1),!0)}function ti(e){return function(e){return e instanceof pn?null!=e.cases:e instanceof G}(e)?Oe((e=>{return[xn(e),e,Oe((e=>e[1]),(t=e,null==t.fields?[]:t.fields))];var t}),function(e){if(null!=e.cases)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}(e)):void 0}function ni(e){return vt(pt((()=>{if(Nn(e)){const t=function(e){if(Nn(e)&&null!=e.generics){const t=e.generics;return[t[0],t[1]]}throw new Error(`${e.fullname} is not an F# function type`)}(e);return Et(ni(t[0]),pt((()=>ni(t[1]))))}return Ct(e)})))}function ri(e,t){return e.Value}function oi(e){let t,n,r,o,s,i,u,a,l,f,h,d,m,g,p,y;const w=function(e){switch(In(e)){case"System.String":return new Ds(2,[]);case"System.Char":return new Ds(1,[]);case"System.Int16":return new Ds(11,[]);case"System.Int32":return new Ds(6,[]);case"Microsoft.FSharp.Core.int64`1":case"System.Int64":return new Ds(12,[]);case"System.UInt16":return new Ds(3,[]);case"System.UInt32":return new Ds(4,[]);case"System.UInt64":return new Ds(5,[]);case"System.DateTime":return new Ds(15,[]);case"System.DateOnly":return new Ds(17,[]);case"System.TimeOnly":return new Ds(18,[]);case"System.TimeSpan":return new Ds(20,[]);case"System.DateTimeOffset":return new Ds(16,[]);case"System.Boolean":return new Ds(7,[]);case"System.Single":return new Ds(8,[]);case"System.Double":return new Ds(9,[]);case"Microsoft.FSharp.Core.decimal`1":case"System.Decimal":return new Ds(10,[]);case"System.Numerics.BigInteger":return new Ds(19,[]);case"Microsoft.FSharp.Core.Unit":return new Ds(0,[]);case"System.Guid":return new Ds(21,[]);case"System.Byte":return new Ds(13,[]);case"System.SByte":return new Ds(14,[]);case"System.Object":return new Ds(23,[]);case"System.Uri":return new Ds(22,[]);default:return}}(e);if(null!=w)return w;{const w=Nn(C=e)?ni(C):void 0;if(null!=w){const e=w;return new Ds(37,[(t=new c((()=>Oe(ii,e))),()=>ri(t))])}{const t=function(e){return function(e){return e instanceof pn?null!=e.fields:e instanceof O}(e)?Oe((e=>[e,xn(e),e[1]]),Tn(e)):void 0}(e);if(null!=t){const n=t,r=new c((()=>[vt(pt((()=>Nt((e=>Ct(new Gs(e[1],ii(e[2]),e[0]))),n)))),e]));return new Ds(39,[()=>ri(r)])}{const t=ti(e);if(null!=t){const n=t,r=new c((()=>[vt(pt((()=>Nt((e=>Ct(new Os(e[0],Oe(ii,e[2]),e[1]))),n)))),e]));return new Ds(40,[()=>ri(r)])}{const t=function(e){return function(e){return null!=e.enumCases&&e.enumCases.length>0}(e)?function(e){return e.generics?.[0]}(e):void 0}(e);if(null!=t){const r=t;return new Ds(38,[(n=new c((()=>[ii(r),e])),()=>ri(n))])}{const t=function(e){return In(e).startsWith("Microsoft.FSharp.Collections.FSharpList`1")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(28,[(r=new c((()=>ii(e))),()=>ri(r))])}{const t=function(e){return In(e).startsWith("System.Collections.Generic.List")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(35,[(o=new c((()=>ii(e))),()=>ri(o))])}{const t=function(e){return In(e).startsWith("System.Collections.Generic.HashSet")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(36,[(s=new c((()=>ii(e))),()=>ri(s))])}{const t=function(e){return function(e){return null!=kn(e)}(e)?kn(e):void 0}(e);if(null!=t){const e=t;return new Ds(30,[(i=new c((()=>ii(e))),()=>ri(i))])}{const t=function(e){return Mn(e)?function(e){if(Mn(e)&&null!=e.generics)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}(e):void 0}(e);if(null!=t){const e=t;return new Ds(32,[(u=new c((()=>Oe(ii,e))),()=>ri(u))])}{const t=function(e){return In(e).startsWith("Microsoft.FSharp.Core.FSharpOption`1")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(27,[(a=new c((()=>ii(e))),()=>ri(a))])}{const t=function(e){return In(e).startsWith("System.Nullable`1")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(27,[(l=new c((()=>ii(e))),()=>ri(l))])}{const t=function(e){return In(e).startsWith("Microsoft.FSharp.Collections.FSharpSet`1")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(29,[(f=new c((()=>ii(e))),()=>ri(f))])}{const t=function(e){if(In(e).startsWith("Microsoft.FSharp.Collections.FSharpMap`2")){const t=yn(e);return[Be(0,t),Be(1,t)]}}(e);if(null!=t){const e=t[0],n=t[1];return new Ds(33,[(h=new c((()=>[ii(e),ii(n)])),()=>ri(h))])}{const t=function(e){if(In(e).startsWith("System.Collections.Generic.Dictionary")){const t=yn(e);return[Be(0,t),Be(1,t)]}}(e);if(null!=t){const e=t[0],n=t[1];return new Ds(34,[(d=new c((()=>[ii(e),ii(n),n])),()=>ri(d))])}{const t=function(e){return In(e).startsWith("System.Collections.Generic.IEnumerable`1")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(31,[(m=new c((()=>ii(e))),()=>ri(m))])}{const t=function(e){return In(e).startsWith("Microsoft.FSharp.Control.FSharpAsync`1")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(25,[(g=new c((()=>ii(e))),()=>ri(g))])}{const t=function(e){return In(e).startsWith("Fable.Core.JS.Promise`1")?Be(0,yn(e)):void 0}(e);if(null!=t){const e=t;return new Ds(26,[(p=new c((()=>ii(e))),()=>ri(p))])}return new Ds(24,[(y=new c((()=>e)),()=>ri(y))])}}}}}}}}}}}}}}}}}var C}const si=new Bs([],{Equals:Cn,GetHashCode:g});function ii(e){let t,n=null;if(t=[Fs(si,e,new D((()=>n),(e=>{n=e}))),n],t[0])return t[1];{const t=oi(e);return xe(In(e))||In(e).endsWith("`1[]")||In(e).endsWith("`2[]")||si.set(e,t),t}}function ci(e){switch(e.tag){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 15:case 16:case 17:case 18:case 19:case 21:case 27:return!0;default:return!1}}function ui(e){return 40===e.tag&&e.fields[0]()[0].every((e=>0===e.CaseTypes.length))}const ai="undefined"!=typeof window&&void 0!==window.document;function li(e){return!(void 0===e)}!function(){const e=JSON.parse(JSON.stringify(lr(ot([[1,1],[2,2]]),{Compare:S}))).tree;li(e)&&li(e.k)&&li(e.v)&&li(e.h)}();class fi extends G{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["MapEmpty","MapOne","MapNode"]}}function hi(e){switch(e.tag){case 1:return Ve([e.fields[0],e.fields[1]]);case 2:return St(pt((()=>Et(hi(e.fields[2]),pt((()=>Et(hi(e.fields[3]),pt((()=>Ct([e.fields[0],e.fields[1]]))))))))));default:return Xe()}}function di(e){switch(e.tag){case 0:return e.fields[0].toString();case 1:return e.fields[0];default:return}}function mi(e){if(null!=function(e){let t;if(t=1===e.tag&&"MapEmpty"===e.fields[0]?0:1,0===t)return e}(e))return new fi(0,[]);{const t=function(e){let t,n,r;if(4===e.tag)if(Ze(e.fields[0]))t=1;else if(1===Qe(e.fields[0]).tag)if("MapOne"===Qe(e.fields[0]).fields[0])if(Ze(et(e.fields[0])))t=1;else{const o=di(Qe(et(e.fields[0])));null!=o?Ze(et(et(e.fields[0])))?t=1:Ze(et(et(et(e.fields[0]))))?(t=0,n=o,r=Qe(et(et(e.fields[0])))):t=1:t=1}else t=1;else t=1;else t=1;if(0===t)return[n,r]}(e);if(null!=t){const e=t[0],n=t[1];return new fi(1,[e,n])}{const t=function(e){let t,n,r,o,s;if(4===e.tag)if(Ze(e.fields[0]))t=1;else if(1===Qe(e.fields[0]).tag)if("MapNode"===Qe(e.fields[0]).fields[0])if(Ze(et(e.fields[0])))t=1;else{const i=di(Qe(et(e.fields[0])));null!=i?Ze(et(et(e.fields[0])))||Ze(et(et(et(e.fields[0]))))||Ze(et(et(et(et(e.fields[0])))))||Ze(et(et(et(et(et(e.fields[0]))))))?t=1:0===Qe(et(et(et(et(et(e.fields[0])))))).tag&&Ze(et(et(et(et(et(et(e.fields[0])))))))?(t=0,n=i,r=Qe(et(et(et(e.fields[0])))),o=Qe(et(et(et(et(e.fields[0]))))),s=Qe(et(et(e.fields[0])))):t=1:t=1}else t=1;else t=1;else t=1;if(0===t)return[n,s,r,o]}(e);if(null!=t){const e=t[0],n=t[2],r=t[3],o=t[1],s=mi(n),i=mi(r);let c,u,a;return null!=s&&null!=i?(c=0,u=s,a=i):c=1,0===c?new fi(2,[e,o,u,a]):void 0}return}}}function gi(e){return St(pt((()=>{let t,n,r,o;return Et((t=ur("k",e),n=ur("v",e),null!=t&&1===t.tag&&null!=n?(r=t.fields[0],o=n,Ct([r,o])):wt()),pt((()=>{let t,n;return Et((t=ur("left",e),null!=t&&5===t.tag?(n=t.fields[0],gi(n)):wt()),pt((()=>{const t=ur("right",e);let n,r;return null!=t&&5===t.tag?(n=0,r=t.fields[0]):n=1,0===n?gi(r):wt()})))})))})))}function pi(e){return St(pt((()=>{let t;return Et((t=ur("head",e),null==t?wt():Ct(t)),pt((()=>{const t=ur("tail",e);let n,r;return null!=t&&5===t.tag?(n=0,r=t.fields[0]):n=1,0===n?pi(r):wt()})))})))}function yi(e){switch(e.tag){case 30:case 28:case 31:case 32:case 29:case 35:case 36:return!0;default:return!1}}function wi(e){return 40===e.tag&&(t=e=>1===e.CaseTypes.length&&function(e){return 39===e.tag}(Be(0,e.CaseTypes)),!function(e,t){const r=gt(t);try{let t=!1;for(;!t&&r["System.Collections.IEnumerator.MoveNext"]();)t=e(r["System.Collections.Generic.IEnumerator`1.get_Current"]());return t}finally{n(r)}}((e=>!t(e)),e.fields[0]()[0]));var t}function Ci(e){return 27===e.tag}function vi(e){return!!e.startsWith('"')&&e.endsWith('"')}function Si(e){return function(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return null!=n?e.substr(t,n):e.substr(t)}(e,1,e.length-2)}function bi(e,t){let r,o,i,c,u,a;e:for(;;){const y=e,w=t;let v,b,x,I,k,M,N,A,_,G,O,F,U,R,B,P,L,j,H,W,J,q,z,$,X,Y,V,K,Q,ee,te,ne,re,oe,se,ie,ce,ue,ae,le,fe,he,de,me,ge,pe,we,Se,be,Ee,xe,Te,Me,Ne,Ae,_e,Pe,Le,je,He,We,Je,qe,ze,$e,Xe,Ye,Ve,nt,rt,st,at,lt,ft,ht,dt,mt,gt,yt,wt,vt,bt,Et,It,kt,Tt;switch(y.tag){case 1:switch(w.tag){case 9:"nan"===y.fields[0].toLocaleLowerCase()?(v=1,x=y.fields[0]):(v=2,I=y.fields[0]);break;case 8:"nan"===y.fields[0].toLocaleLowerCase()?(v=4,M=y.fields[0]):(v=5,N=y.fields[0]);break;case 6:v=8,G=y.fields[0];break;case 1:v=9,O=y.fields[0];break;case 2:v=11,U=y.fields[0];break;case 22:v=13,B=y.fields[0];break;case 10:v=14,P=y.fields[0];break;case 11:v=16,j=y.fields[0];break;case 3:v=19,J=y.fields[0];break;case 4:v=21,z=y.fields[0];break;case 5:v=23,X=y.fields[0];break;case 38:v=25,V=w.fields[0],K=y.fields[0];break;case 30:v=27,te=w.fields[0],ne=y.fields[0];break;case 23:v=30,re=y;break;case 12:v=31,oe=y.fields[0];break;case 13:v=32,se=y.fields[0];break;case 14:v=35,ue=y.fields[0];break;case 19:v=36,ae=y.fields[0];break;case 15:v=38,fe=y.fields[0];break;case 16:v=39,he=y.fields[0];break;case 17:v=42,ge=y.fields[0];break;case 18:v=43,pe=y.fields[0];break;case 27:C(y,new No(3,[]))?v=67:(v=46,be=y,Ee=w.fields[0]);break;case 21:v=47,xe=y.fields[0];break;case 40:vi(y.fields[0])?(v=50,Ne=y.fields[0],Ae=w.fields[0]):(v=51,_e=y.fields[0],Pe=w.fields[0]);break;case 39:v=52,Le=w.fields[0],je=y.fields[0];break;case 24:v=66,Tt=w.fields[0];break;default:v=67}break;case 2:switch(w.tag){case 7:v=7,_=y.fields[0];break;case 23:v=30,re=y;break;case 27:C(y,new No(3,[]))?v=67:(v=46,be=y,Ee=w.fields[0]);break;case 24:v=66,Tt=w.fields[0];break;default:v=67}break;case 3:switch(w.tag){case 2:v=28;break;case 0:v=29;break;case 23:v=30,re=y;break;case 27:v=45;break;case 24:v=66,Tt=w.fields[0];break;default:v=67}break;case 5:switch(w.tag){case 23:v=30,re=y;break;case 40:v=44,we=w.fields[0],Se=y.fields[0];break;case 27:C(y,new No(3,[]))?v=67:(v=46,be=y,Ee=w.fields[0]);break;case 12:v=49,Me=y.fields[0];break;case 28:v=56,Xe=w.fields[0],Ye=y.fields[0];break;case 39:v=60,ft=y.fields[0],ht=w.fields[0];break;case 34:v=63,wt=y.fields[0],vt=w.fields[0];break;case 33:v=65,It=w.fields[0],kt=y.fields[0];break;case 24:v=66,Tt=w.fields[0];break;default:v=67}break;case 4:switch(w.tag){case 23:v=30,re=y;break;case 27:C(y,new No(3,[]))?v=67:(v=46,be=y,Ee=w.fields[0]);break;case 40:v=53,He=y.fields[0],We=w.fields[0];break;case 30:v=54,Je=w.fields[0],qe=y.fields[0];break;case 28:v=55,ze=w.fields[0],$e=y.fields[0];break;case 29:v=57,Ve=w.fields[0],nt=y.fields[0];break;case 31:v=58,rt=w.fields[0],st=y.fields[0];break;case 32:v=59,at=y.fields[0],lt=w.fields[0];break;case 33:v=61,dt=w.fields[0],mt=y.fields[0];break;case 34:v=62,gt=w.fields[0],yt=y.fields[0];break;case 36:v=64,bt=w.fields[0],Et=y.fields[0];break;case 24:v=66,Tt=w.fields[0];break;default:v=67}break;default:switch(w.tag){case 9:v=0,b=y.fields[0];break;case 8:v=3,k=y.fields[0];break;case 6:v=6,A=y.fields[0];break;case 1:v=10,F=y.fields[0];break;case 2:v=12,R=y.fields[0];break;case 10:v=15,L=y.fields[0];break;case 11:v=17,H=y.fields[0];break;case 3:v=18,W=y.fields[0];break;case 4:v=20,q=y.fields[0];break;case 5:v=22,$=y.fields[0];break;case 20:v=24,Y=y.fields[0];break;case 38:v=26,Q=w.fields[0],ee=y.fields[0];break;case 23:v=30,re=y;break;case 13:v=33,ie=y.fields[0];break;case 14:v=34,ce=y.fields[0];break;case 19:v=37,le=y.fields[0];break;case 16:v=40,de=y.fields[0];break;case 17:v=41,me=y.fields[0];break;case 27:C(y,new No(3,[]))?v=67:(v=46,be=y,Ee=w.fields[0]);break;case 12:v=48,Te=y.fields[0];break;case 24:v=66,Tt=w.fields[0];break;default:v=67}}switch(v){case 0:return b;case 1:return NaN;case 2:return gn(I);case 3:return k;case 4:return NaN;case 5:return gn(N);case 6:return Math.floor(A);case 7:return _;case 8:return Zo(G,511,!1,32);case 9:return O;case 10:return String.fromCharCode(F);case 11:return U;case 12:return R.toString();case 13:return ts.create(B);case 14:return new ps(P);case 15:return new ps(L);case 16:return Zo(j,511,!1,16);case 17:return(H+32768&65535)-32768;case 18:return 65535&W;case 19:return Zo(J,511,!0,16);case 20:return q>>>0;case 21:return Zo(z,511,!0,32);case 22:return Cs(ys($));case 23:return Cs(vs(X,511,!0));case 24:return Math.floor(Y);case 25:{const e=V(),t=e[0],n=e[1];switch(t.tag){case 6:{let e,t=0;if(e=[Ko(K,511,!1,32,new D((()=>t),(e=>{t=0|e}))),t],e[0])return e[1];{const e=xn(n);return ve(ye("The value '%s' is not valid for enum of type '%s'"))(K)(e)}}case 12:{let e,t=0n;if(e=[Ss(K,511,!1,0,new D((()=>t),(e=>{t=e}))),t],e[0])return e[1];{const e=xn(n);return ve(ye("The value '%s' is not valid for enum of type '%s'"))(K)(e)}}default:{const e=xn(n);return ve(ye("The value '%s' cannot be converted to enum of type '%s'"))(K)(e)}}}case 26:return Q(),ee;case 27:{const e=te();return 13===e.tag?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||ai?ke(ne):Array.prototype.slice.call(Buffer.from(ne,"base64")):ve(ye("Cannot convert arbitrary string '%s' to %A"))(ne)(e)}case 28:return null;case 29:return;case 30:return qo(re);case 31:return ws(vs(oe,511,!1));case 32:return Zo(se,511,!0,8);case 33:return 255&ie;case 34:return(ce+128&255)-128;case 35:return Zo(ue,511,!1,8);case 36:return BigInt(ae);case 37:return ys(Math.floor(le));case 38:return Z(fe);case 39:return Es(he);case 40:return f=ws(ys(Math.floor(de))),bs(Number(1000n*f),0);case 41:return xs(~~me);case 42:return xs(Zo(ge,511,!1,32));case 43:return l=ws(vs(pe,511,!1)),Number(BigInt(l)/10000n);case 44:{const e=we(),t=e[1],n=e[0],s=fr(Se);let c,u,a,l,f;if(Ze(s))c=2;else if(4===Qe(s)[1].tag)Ze(et(s))?(c=0,u=Qe(s)[0],a=Qe(s)[1].fields[0]):c=2;else{const e=4===(m=Qe(s)[1]).tag?void 0:m;null!=e&&Ze(et(s))?(c=1,l=Qe(s)[0],f=e):c=2}switch(c){case 0:{const e=Fe((e=>e.CaseName===u),n);if(null!=e){if(r=e,1===r.CaseTypes.length&&yi(Be(0,r.CaseTypes))){const t=e;return An(t.Info,[bi(new No(4,[a]),Be(0,t.CaseTypes))])}if(o=e,1===o.CaseTypes.length&&Ci(Be(0,o.CaseTypes))){const t=e;return An(t.Info,[bi(new No(4,[a]),Be(0,t.CaseTypes))])}{const t=e;if(1===t.CaseTypes.length&&!yi(Be(0,t.CaseTypes))&&t.CaseTypes.length!==Ke(a)){const e=0|t.CaseTypes.length,n=0|Ke(a);ve(ye("Expected case '%s' to have %d argument types but the JSON data only contained %d values"))(t.CaseName)(e)(n)}return An(t.Info,Oe((e=>bi(e[1],e[0])),Ue(t.CaseTypes,tt(a))))}}{const e=Ie(", ",Oe((e=>Ce(ye(" '%s' "))(e.CaseName)),n)),r=xn(t);return ve(ye("Case %s was not valid for type '%s', expected one of the cases [%s]"))(u)(r)(e)}}case 1:{const e=Fe((e=>e.CaseName===l),n);let r,o,s,c;if(null!=e?(i=e.CaseTypes,Re(C,i,null)||1!==i.length?r=1:(r=0,o=e.Info,s=e.CaseName,c=Be(0,e.CaseTypes))):r=1,0===r)return An(o,[(e=>t=>bi(e,t))(f)(c)]);{const e=Ie(", ",Oe((e=>Ce(ye(" '%s' "))(e.CaseName)),n)),r=xn(t);return ve(ye("Case %s was not valid for type '%s', expected one of the cases [%s]"))(l)(r)(e)}}default:if(ar("tag",Se)&&ar("fields",Se)&&2===sr(Se)){const e=ur("tag",Se),r=ur("fields",Se);let o,s,i;if(null!=e&&0===e.tag&&null!=r&&4===r.tag?(o=0,s=e.fields[0],i=r.fields[0]):o=1,0===o){const e=Be(~~s,n);return An(e.Info,Ge(((t,n)=>bi(n,Be(t,e.CaseTypes))),tt(i)))}{const e=Jo(new No(5,[Se])),n=In(t);return ve(ye("Could not deserialize JSON(%s) into type %s"))(e)(n)}}if(wi(w)){const e=ct((e=>ar(e,Se)),ot(["__typename","$typename","$type"]));if(null!=e){const r=or(Se,e);if(1===r.tag){const e=r.fields[0],o=xt((t=>t.CaseName.toUpperCase()===e.toUpperCase()),n);if(null!=o){const e=o;return An(e.Info,[bi(new No(5,[Se]),Be(0,e.CaseTypes))])}{const n=xn(t);return ve(ye("Union of records of type '%s' does not have a matching case '%s'"))(n)(e)}}{const e=xn(t);return ve(ye("Union of records of type '%s' cannot be deserialized with the value of the discriminator key is not a string to match against a specific union case"))(e)}}{const e=xn(t);return ve(ye("Could not serialize the JSON object into the union of records of type %s because the JSON did not contain a known discriminator. Expected '__typename', '$typeName' or '$type'"))(e)}}{const e=JSON.stringify(s),t=JSON.stringify(n);return ve(ye("Expected JSON:\n%s\nto match the type\n%s"))(e)(t)}}}case 45:return;case 46:return T(bi(be,Ee()));case 47:return Ms(xe);case 48:return ws(BigInt(~~Te));case 49:{const e=e=>ur(e,Me),t=ut((e=>e),ot([e("low"),e("high"),e("unsigned")]));let n,r,o;return Ze(t)?n=1:0===Qe(t).tag?Ze(et(t))?n=1:0===Qe(et(t)).tag?Ze(et(et(t)))?n=1:2===Qe(et(et(t))).tag&&Ze(et(et(et(t))))?(n=0,r=Qe(et(t)).fields[0],o=Qe(t).fields[0]):n=1:n=1:n=1,0===n?_s(De([As(~~o),As(~~r)],Uint8Array),0):ve(ye("Unable to construct int64 from object literal { low: int, high: int, unsigned: bool }"))}case 50:{const e=Ae(),t=e[0],n=Fe((e=>e.CaseName===Si(Ne)),t);if(null==n){const n=Ie(", ",Oe((e=>Ce(ye(" '%s' "))(e.CaseName)),t)),r=xn(e[1]);return ve(ye("Case %s was not valid for type '%s', expected one of the cases [%s]"))(Ne)(r)(n)}return An(n.Info,[])}case 51:{const e=Pe(),t=e[0],n=Fe((e=>e.CaseName===_e),t);if(null==n){const n=Ie(", ",Oe((e=>Ce(ye(" '%s' "))(e.CaseName)),t)),r=xn(e[1]);return ve(ye("Case %s was not valid for type '%s', expected one of the cases [%s]"))(_e)(r)(n)}return An(n.Info,[])}case 52:e=Wo(je),t=w;continue e;case 53:{const e=We(),t=e[0];let n,r,o,s,i;switch(Ze(He)?(n=2,i=He):1===Qe(He).tag?Ze(et(He))?(n=0,r=Qe(He).fields[0]):(n=1,o=Qe(He).fields[0],s=et(He)):(n=2,i=He),n){case 0:{const n=Fe((e=>e.CaseName===r),t);if(null==n){const n=Ie(", ",Oe((e=>Ce(ye(" '%s' "))(e.CaseName)),t)),o=xn(e[1]);return ve(ye("Case '%s' was not valid for type '%s', expected one of the cases [%s]"))(r)(o)(n)}return n.CaseName,n.CaseTypes,An(n.Info,[])}case 1:{const e=Fe((e=>e.CaseName===o),t);if(null!=e){const t=e.CaseTypes,n=e.CaseName,r=e.Info;return t.length!==Ke(s)&&ve(ye("The number of union case parameters for '%s' is different"))(n),An(r,Oe((e=>bi(e[1],e[0])),Ue(t,tt(s))))}{const e=Ie(", ",Oe((e=>e.CaseName),t));return ve(ye("Case %s was not valid, expected one of [%s]"))(o)(e)}}default:{const e=JSON.stringify(i),n=JSON.stringify(t);return ve(ye("Expected JSON:\n%s\nto match the type\n%s"))(e)(n)}}}case 54:{const e=Je();return tt(it((t=>bi(t,e)),qe))}case 55:{const e=ze();return it((t=>bi(t,e)),$e)}case 56:{const e=Xe();return it((t=>bi(t,e)),pi(Ye))}case 57:{const e=Ve();return un(it((t=>bi(t,e)),nt),{Compare:E})}case 58:{const e=rt();return it((t=>bi(t,e)),st)}case 59:return Oe((e=>bi(e[1],e[0])),Ue(lt(),tt(at)));case 60:{const e=ht(),t=e[1],n=e[0];return _n(t,(c=fr(ft),Oe((e=>{let r,o,s;const i=e.FieldType,u=e.FieldName,a=ct((e=>u===e[0]),c);if(null==a){if(27===i.tag)return;{let e;const i=Ie(", ",(r=fr(ft),it((s=Ce(ye("'%s'")),o=s,e=>o(e[0])),r)));let c;e=Ce(ye("[ %s ]"))(i);const a=Ie(", ",Oe((e=>{const t=e.FieldName;return 27===e.FieldType.tag?Ce(ye("optional('%s')"))(t):Ce(ye("required('%s')"))(t)}),n));c=Ce(ye("[ %s ]"))(a);const l=xn(t);return ve(ye("Could not find the required key '%s' in the JSON object literal with keys %s to match with record type '%s' that has fields %s"))(u)(e)(l)(c)}}return a[0],bi(a[1],i)}),n)))}case 61:{const e=dt(),t=e[0],n=St(pt((()=>Nt((n=>{let r;return Ct(bi(n,new Ds(32,[(r=[t,e[1]],()=>r)])))}),mt))));switch(t.tag){case 6:case 2:case 7:return lr(n,{Compare:S});default:return lr(n,{Compare:E})}}case 62:{const e=gt(),t=e[0],r=St(pt((()=>Nt((n=>Ct(bi(n,new Ds(32,[()=>[t,e[1]]])))),yt)))),o=40===t.tag?new Bs([],{Equals:C,GetHashCode:p}):(t.tag,new Bs([],{Equals:C,GetHashCode:g})),i=s(r);try{for(;i["System.Collections.IEnumerator.MoveNext"]();){const e=i["System.Collections.Generic.IEnumerator`1.get_Current"]();Us(o,e[0],e[1])}}finally{n(i)}return o}case 63:{const e=vt(),t=e[0],r=it((n=>[bi(new No(1,[n[0]]),t),bi(n[1],e[1])]),fr(wt)),o=40===t.tag?new Bs([],{Equals:C,GetHashCode:p}):(t.tag,new Bs([],{Equals:C,GetHashCode:g})),i=s(r);try{for(;i["System.Collections.IEnumerator.MoveNext"]();){const e=i["System.Collections.Generic.IEnumerator`1.get_Current"]();Us(o,e[0],e[1])}}finally{n(i)}return o}case 64:{const e=bt(),t=40===e.tag?new Xs([],{Equals:C,GetHashCode:p}):(e.tag,new Xs([],{Equals:C,GetHashCode:g})),r=s(Et);try{for(;r["System.Collections.IEnumerator.MoveNext"]();)h=bi(r["System.Collections.Generic.IEnumerator`1.get_Current"](),e),!(d=t).has(h)&&d.add(h)}finally{n(r)}return t}case 65:{const n=It(),r=n[1],o=n[0],s=ur("comparer",kt),i=ur("tree",kt);let c,l,f,h,d;if(null!=s)if(5===s.tag)if(null!=i)switch(i.tag){case 4:u=i.fields[0],cr(s.fields[0])?(c=0,l=s.fields[0],f=i.fields[0]):c=2;break;case 5:a=i.fields[0],cr(s.fields[0])?(c=1,h=s.fields[0],d=i.fields[0]):c=2;break;default:c=2}else c=2;else c=2;else c=2;switch(c){case 0:{const e=mi(new No(4,[f]));if(null==e){const e=Jo(new No(4,[f]));return ve(ye("Could not generate map from JSON\n %s"))(e)}{const t=it((e=>{const t=e[0];return[vi(t)?bi($o(t),o):bi(new No(1,[t]),o),bi(e[1],r)]}),hi(e));switch(o.tag){case 6:case 2:case 7:return lr(t,{Compare:S});default:return lr(t,{Compare:E})}}}case 1:e=new No(5,[lr(gi(d),{Compare:S})]),t=w;continue e;default:{const e=it((e=>{const t=e[0];return[vi(t)?bi($o(t),o):ci(o)||ui(o)?bi(new No(1,[t]),o):bi($o(t),o),bi(e[1],r)]}),fr(kt));switch(o.tag){case 6:case 2:case 7:return lr(e,{Compare:S});default:return lr(e,{Compare:E})}}}}case 66:{const e=Tt(),t=Jo(y),n=In(e);return ve(ye("Cannot convert %s to %s"))(t)(n)}default:{const e=Jo(y),t=JSON.stringify(w);return ve(ye("Cannot convert %s to %s"))(e)(t)}}break}var l,f,h,d,m}function Ei(e,t){return bi(e,t)}class xi extends O{constructor(e,t,n,r,o,s,i,c){super(),this.startx=e,this.starty=t,this.width=n,this.height=r,this.col=0|o,this.row=0|s,this.animation=i,this.no=0|c}}class Ii extends O{constructor(e,t,n,r,o,s,i,c,u){super(),this.startx=e,this.starty=t,this.width=n,this.height=r,this.col=0|o,this.row=0|s,this.animation=i,this.no=0|c,this.image=u}}const ki=new D(dr({Compare:S}));let Ti=0;class Mi extends O{constructor(e,t,n,r,o,s,i,c,u,a,l,f,h,d,m,g,p,y,w){super(),this.id=0|e,this.image=t,this.texture=n,this.texturePath=r,this.x=o,this.y=s,this.velocityX=i,this.velocityY=c,this.affectedByGravity=u,this.isGrounded=a,this.width=l,this.height=f,this.scale=h,this.rotation=d,this.vertices=m,this.animation=g,this.isAnimating=p,this.flipX=y,this.no=0|w}}const Ni=[];class Ai extends O{constructor(e,t,n,r,o,s,i,c,u){super(),this.program=e,this.posBuf=t,this.texBuf=n,this.posLoc=0|r,this.texLoc=0|o,this.resLoc=s,this.imgLoc=i,this.camTranslationLoc=c,this.camZoomLoc=u}}function _i(e,t){const n=e.width,r=e.height,o=t.startx+t.no%t.col*t.width,s=t.starty+~~(t.no/t.col)*t.height,i=s/r,c=o/n,u=(s+t.height)/r,a=(o+t.width)/n;return new Float64Array([c,i,a,i,c,u,c,u,a,i,a,u])}function Gi(e){const t=document.querySelector("canvas").getContext("webgl"),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const r=new Uint8Array(new Uint8Array([255,0,255,255]));t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);const o=()=>{t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)};return e.onload=e=>{o()},e.complete&&e.naturalWidth>0&&o(),n}function Oi(e,t){let n;const r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,"\r\n        attribute vec2 a_position;\r\n        attribute vec2 a_texCoord;\r\n        \r\n        uniform vec2 u_resolution;      // Canvas dimensions\r\n        uniform vec2 u_cameraTranslation; // Camera's top-left world coordinate\r\n        uniform float u_cameraZoom;       // Camera's zoom factor\r\n        \r\n        varying vec2 v_texCoord;\r\n        \r\n        void main() {\r\n          // Apply camera transformation\r\n          vec2 worldPos = a_position; // a_position is already scaled and rotated world position\r\n          vec2 viewPos = (worldPos - u_cameraTranslation) * u_cameraZoom;\r\n          \r\n          // Convert from view space to 0.0 to 1.0\r\n          vec2 zeroToOne = viewPos / u_resolution;\r\n          // Convert from 0->1 to 0->2\r\n          vec2 zeroToTwo = zeroToOne * 2.0;\r\n          // Convert from 0->2 to -1->+1 (clip space)\r\n          vec2 clipSpace = zeroToTwo - 1.0;\r\n          \r\n          gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1); // Y is flipped for screen coordinates\r\n          v_texCoord = a_texCoord;\r\n        }\r\n    "),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=A(M(e.getShaderInfoLog(r)),"<no log>");ve(ye("Vertex shader compilation failed: %s"))(t)}let o;n=r;const s=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(s,"\r\n        precision mediump float;\r\n        uniform sampler2D u_image;\r\n        varying vec2 v_texCoord;\r\n        void main() {\r\n          gl_FragColor = texture2D(u_image, v_texCoord);\r\n        }\r\n    "),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS)){const t=A(M(e.getShaderInfoLog(s)),"<no log>");ve(ye("Fragment shader compilation failed: %s"))(t)}let i;o=s;const c=e.createProgram();if(e.attachShader(c,n),e.attachShader(c,o),e.linkProgram(c),!e.getProgramParameter(c,e.LINK_STATUS)){const t=A(M(e.getProgramInfoLog(c)),"<no log>");ve(ye("Program linking failed: %s"))(t)}return i=c,e.useProgram(i),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),new Ai(i,e.createBuffer(),e.createBuffer(),~~e.getAttribLocation(i,"a_position"),~~e.getAttribLocation(i,"a_texCoord"),e.getUniformLocation(i,"u_resolution"),e.getUniformLocation(i,"u_image"),e.getUniformLocation(i,"u_cameraTranslation"),e.getUniformLocation(i,"u_cameraZoom"))}function Di(e,t,n,r,o,s){const i=n.width*n.scale,c=n.height*n.scale,u=n.x,a=n.y,l=n.x+i,f=n.y+c,h=n.x+i/2,d=n.y+c/2,m=Math.cos(n.rotation),g=Math.sin(n.rotation),p=e=>{const t=e[0]-h,n=e[1]-d;return[t*m-n*g+h,t*g+n*m+d]},y=p([u,a]),w=p([l,a]),C=w[0],v=w[1],S=p([u,f]),b=S[1],E=S[0],x=p([l,f]),I=tt(ot(new Float64Array([y[0],y[1],C,v,E,b,E,b,C,v,x[0],x[1]])));e.useProgram(t.program),e.bindBuffer(e.ARRAY_BUFFER,t.posBuf);const k=new Float32Array(I);e.bufferData(e.ARRAY_BUFFER,k,e.STATIC_DRAW),e.enableVertexAttribArray(t.posLoc),e.vertexAttribPointer(t.posLoc,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,t.texBuf);const T=n.vertices[n.no],M=n.flipX?new Float64Array([Be(2,T),Be(3,T),Be(0,T),Be(1,T),Be(10,T),Be(11,T),Be(10,T),Be(11,T),Be(0,T),Be(1,T),Be(4,T),Be(5,T)]):T,N=new Float32Array(M);e.bufferData(e.ARRAY_BUFFER,N,e.STATIC_DRAW),e.vertexAttribPointer(t.texLoc,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t.texLoc),e.uniform2f(t.camTranslationLoc,r,o),e.uniform1f(t.camZoomLoc,s),e.uniform2f(t.resLoc,e.canvas.width,e.canvas.height),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.texture),e.uniform1i(t.imgLoc,0),e.drawArrays(e.TRIANGLES,0,6)}function Fi(e,t,n,r,o){const s=[t,n],i=[r,o],c=(u=e,or(ki.contents,u));var u;const a=c.image,l=[];if(c.animation)for(let e=0;e<=c.col*c.row-1;e++)c.no=0|e,l.push(_i(a,c));else l.push(_i(a,c));const f=Gi(a);Ti=Ti+1|0;const h=new Mi(Ti,a,f,e,s[0],s[1],0,0,!1,!1,i[0],i[1],1,0,l,c.animation,c.animation,!1,c.no);return Ni.push(h),h}class Ui extends O{constructor(e,t,n,r,o,s){super(),this.x=e,this.y=t,this.viewportWidth=n,this.viewportHeight=r,this.zoom=o,this.target=s}}const Ri=document.querySelector("canvas"),Bi=Ri.getContext("webgl");Oi(Bi,new Mi(0,document.createElement("img"),Gi(document.createElement("img")),"",0,0,0,0,!1,!1,1,1,1,0,[],!1,!1,!1,0));let Pi,Li,ji,Hi=0,Wi=0;function Ji(e){Pi=e}let qi=x(null),zi=x(null),$i=x(null),Xi=x(0);const Yi=mn(),Vi=900/980*200,Zi=["sand.png","dirt.png"];let Ki=x(0);x(0);let Qi=x(0),ec=x(null),tc=x(!1);function nc(e){let t;if(tc())fn(" ")&&window.location.reload();else{const c=e/1e3;Qi(Qi()+c),null!=ec()&&(ec().textContent=(t=0|Qi(),Ce(ye("%d"))(t)));const u=(s=c)<(i=1/30)?s:i;if(qi().velocityX=200,fn(" ")&&qi().isGrounded&&((o=qi()).velocityX=o.velocityX+0,o.velocityY=o.velocityY+-450,qi().isGrounded=!1),function(e,t){e.affectedByGravity&&(e.velocityY=e.velocityY+980*t)}(qi(),u),function(e,t){e.x=e.x+e.velocityX*t,e.y=e.y+e.velocityY*t}(qi(),u),qi().y>90)tc(!0),ec().textContent="You died! Press Space to restart";else{kt((e=>{!function(e,t,n){if(function(e,t){let n;const r=e.x,o=e.y,s=e.width*e.scale;let i;n={Height:e.height*e.scale,Width:s,X:r,Y:o};const c=t.x,u=t.y,a=t.width*t.scale;return i={Height:t.height*t.scale,Width:a,X:c,Y:u},n.X<i.X+i.Width&&n.X+n.Width>i.X&&n.Y<i.Y+i.Height&&n.Y+n.Height>i.Y}(e,t)){const r=e.y+e.height*e.scale,o=t.y;e.velocityY>=0&&e.y-e.velocityY*n+e.height*e.scale<=o+5&&r>=o&&e.y<o&&(e.y=t.y-e.height*e.scale,e.velocityY=0,e.isGrounded=!0)}}(qi(),e,u)}),(r=e=>{return t=e.texturePath,n={Equals:(e,t)=>e===t,GetHashCode:f},function(e,t,n,r,o){const s=0|A(n,0),i=0|A(null!=(u=r)?T((c=k(u),s+c)):void 0,e.length);var c,u;return 0|(n=>{for(;;){const r=n;if(r>=i)return-1;if(o.Equals(t,Be(r,e)))return 0|r;n=r+1}})(s)}(Zi,t,void 0,void 0,n)>=0&&e.id!==qi().id;var t,n},function(e,t){return bt((()=>gt(t)),(e=>{let t;for(;null==t&&e["System.Collections.IEnumerator.MoveNext"]();)n=e["System.Collections.Generic.IEnumerator`1.get_Current"](),t=r(n)?T(n):void 0;var n;return t}),(e=>{n(e)}))}(0,Ni))),function(e){const t=e.target;if(null==t);else{const n=t,r=n.x+n.width*n.scale/2,o=n.y+n.height*n.scale/2;e.x=r-e.viewportWidth/e.zoom/2,e.y=o-e.viewportHeight/e.zoom/2}}(zi()),$i().x=zi().x,$i().y=zi().y;const e=zi().x+3*Ri.width;for(;Xi()<e;){const e=200*Yi.NextDouble()+200,t=qi().width*qi().scale,n=t+Yi.NextDouble()*(Vi-t);Fi(Be(Yi.Next1(Zi.length),Zi),Xi(),40,e,50).affectedByGravity=!1,Xi(Xi()+e+n)}}}var r,o,s,i}const rc=Bi;let oc;const sc=new Map([]);let ic=[.1,.1,.1,1];const cc=new Mi(0,document.createElement("img"),Gi(document.createElement("img")),"",0,0,0,0,!1,!1,1,1,1,0,[],!1,!1,!1,0);function uc(t,r){null==oc&&(oc=Oi(rc,A(function(t){if(e(t))return 0===(r=t).length?void 0:T(Be(0,r));if(t instanceof Le)return function(e){return Je(e)?void 0:T(ze(e))}(t);{const e=gt(t);try{return e["System.Collections.IEnumerator.MoveNext"]()?T(e["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0}finally{n(e)}}var r}(Ni),cc)));const o=ic[0],i=ic[1],c=ic[2],u=ic[3];if(rc.clearColor(o,i,c,u),rc.clear(rc.COLOR_BUFFER_BIT),null==oc);else{const e=oc,r=t.x,o=t.y,i=t.x+t.viewportWidth/t.zoom,c=t.y+t.viewportHeight/t.zoom;let u=s(Ni);try{for(;u["System.Collections.IEnumerator.MoveNext"]();){const n=u["System.Collections.Generic.IEnumerator`1.get_Current"](),s=n.x,a=n.y,l=n.width*n.scale,f=n.height*n.scale;n.x+l>=r&&s<=i&&n.y+f>=o&&a<=c&&Di(rc,e,n,t.x,t.y,t.zoom)}}finally{n(u)}}}let ac=x(!1);function lc(){ac()||(ac(!0),function(){window.addEventListener("keydown",(e=>{var t,n;t=an,n=e.key,an=nn(rn(t),Ht(rn(t),n,on(t)))})),window.addEventListener("keyup",(e=>{var t,n;t=an,n=e.key,an=nn(rn(t),Jt(rn(t),n,on(t)))}));const e=document.querySelector("canvas");e.addEventListener("mousedown",(t=>{const n=t,r=e.getBoundingClientRect(),o=n.clientX-r.left,s=n.clientY-r.top;ln=[o,s]}))}(),function(){ec(document.createElement("div")),ec().style.position="absolute",ec().style.top="10px",ec().style.left="10px",ec().style.fontSize="24px",ec().style.fontWeight="bold",ec().style.color="white",ec().style.zIndex="1000",document.body.appendChild(ec());const e=mn();var t,n,r,o;console.log(T(Ce(ye("Max jump distance: %f"))(Vi))),zi((t=Ri.width,n=Ri.height,new Ui(0,0,t,n,1,void 0))),$i(Fi("bg.png",0,0,Ri.width,Ri.height)),$i().affectedByGravity=!1,qi(Fi("main.png",0,-90,64,64)),qi().scale=1.5,qi().affectedByGravity=!0,qi().no=0,qi().isAnimating=!0,r=zi(),o=qi(),r.target=o,Xi(qi().x),Ki(qi().x);const s=qi().x+3*Ri.width;for(;Xi()<s;){const t=200*e.NextDouble()+200,n=qi().width*qi().scale,r=n+e.NextDouble()*(Vi-n);Fi(Be(e.Next1(Zi.length),Zi),Xi(),40,t,50).affectedByGravity=!1,Xi(Xi()+t+r)}Ji((e=>{nc(e)}))}(),Ji((e=>{nc(e)})),Li=e=>{uc(zi())},ji=e=>{!function(e){let t=s(Ni);try{for(;t["System.Collections.IEnumerator.MoveNext"]();){const n=t["System.Collections.Generic.IEnumerator`1.get_Current"]();if(n.animation&&n.isAnimating&&"pepe.png"!==n.texturePath){const t=0|n.vertices.length;if(t>0){const r=.2;let o=0;if(Fs(sc,n.id,new D((()=>o),(e=>{o=e})))||(o=0),o+=e,o>=r){const e=Math.floor(o/r);n.no=(n.no+~~e)%t|0,sc.set(n.id,o-e*r)}else sc.set(n.id,o)}}}}finally{n(t)}}(e/1e3)},function(){const e=t=>{const n=t-Hi;Hi=t,kt((e=>{e(n)}),N(Pi)),kt((e=>{e(n)}),N(ji)),kt((e=>{e(n)}),N(Li)),Wi=window.requestAnimationFrame(e)};Wi=window.requestAnimationFrame(e)}())}Er(Cr.Delay((()=>Cr.Bind(Cr.Delay((()=>{return Cr.Bind(function(e){return br((t=>{const r=new XMLHttpRequest;r.open(function(e){switch(e.tag){case 1:return"POST";case 3:return"PATCH";case 2:return"PUT";case 4:return"DELETE";case 6:return"OPTIONS";case 5:return"HEAD";default:return"GET"}}(e.method),e.url),r.onreadystatechange=()=>{let e,n,o,s,i,c,u;4===r.readyState&&t[0]((n=r.responseType,e=""===n||"text"===n?r.responseText:"",o=0|r.status,s=r.responseType,c=r.responseType,i=""===c||"text"===c?new kr(0,[r.responseText]):new kr("arraybuffer"===c?2:"blob"===c?1:3,[r.response]),u=function(e,t){return rr(t,Vn(t,e))}(function(e,t,n){const r=[];for(let n=0;n<=t.length-1;n++){const o=e(Be(n,t));if(null!=o){const e=k(o);r.push(e)}}return C(n,null)?r:Oe((e=>e),r,n)}((e=>{const t=ot(Nr(":",e));return Ze(t)?void 0:[Qe(t).toLocaleLowerCase(),Ie(":",et(t)).trim()]}),Nr("\r\n",r.getAllResponseHeaders())),{Compare:S}),new Tr(o,e,s,r.responseURL,u,i)))};const o=s(e.headers);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const e=o["System.Collections.Generic.IEnumerator`1.get_Current"]();r.setRequestHeader(e.fields[0],e.fields[1])}}finally{n(o)}r.withCredentials=e.withCredentials;const i=e.overridenMimeType;if(null==i);else{const e=i;r.overrideMimeType(e)}const c=e.overridenResponseType;if(null==c);else switch(c.tag){case 1:r.responseType="blob";break;case 2:r.responseType="arraybuffer";break;default:r.responseType="text"}const u=e.timeout;if(null==u);else{const e=0|u;r.timeout=0|e}const a=e.content;switch(a.tag){case 1:case 3:case 2:r.send(T(a.fields[0]));break;default:r.send()}}))}((e=new xr(0,[]),t=function(e){return new Ir(e,Mr.method,Mr.headers,Mr.withCredentials,Mr.overridenMimeType,Mr.overridenResponseType,Mr.timeout,Mr.content)}("/sprites.json"),new Ir(t.url,e,t.headers,t.withCredentials,t.overridenMimeType,t.overridenResponseType,t.timeout,t.content))),(e=>{const t=e;return Cr.Return([t.statusCode,t.responseText])}));var e,t})),(e=>{const t=0|e[0],n=e[1];return 200===t?Cr.TryWith(Cr.Delay((()=>{let e;const t=lr(it((e=>{const t=e[0],n=Qe(e[1]),r=document.createElement("img");return r.src=t,[t,new Ii(n.startx,n.starty,n.width,n.height,n.col,n.row,n.animation,n.no,r)]}),fr((e=Ho(n),null!=e?Ei(e,ii((r=[vn,(o=new pn("Engine.GetSpriteData.FrameJsonData",[],xi,void 0,(()=>[["startx",En],["starty",En],["width",En],["height",En],["col",bn],["row",bn],["animation",Sn],["no",bn]])),new pn("Microsoft.FSharp.Collections.FSharpList`1",[o]))],new pn("Microsoft.FSharp.Collections.FSharpMap`2",r,undefined,undefined)))):(()=>{throw new Error("Couldn't parse the input JSON string because it seems to be invalid")})()))),{Compare:S});var r,o;ki.contents=t;const s=st(Mt((e=>{return t=e.image,br((e=>{const n=e[0];t.complete&&t.naturalWidth>0?n():(t.onload=e=>{n()},t.onerror=e=>{console.error(T("Failed to load image:"),t.src,e),n()})}));var t}),hr(t)));return Cr.Combine(Ze(s)?(console.log(T("Sprite atlas loaded (GetSpriteData), but no images to load.")),Cr.Zero()):Cr.Bind((c=s,yr((i=()=>{return e=Promise.all(Array.from(c,(e=>{return t=e,new Promise(((e,r)=>Er(t,e,r,r,n||Sr)));var t,n}))),br((t=>e.then(t[0]).catch((e=>(e instanceof mr?t[2]:t[1])(e)))));var e},pr((e=>i()(e)))),(e=>wr(void 0)))),(()=>(console.log(T("All sprite images initiated loading via GetSpriteData.")),Cr.Zero()))),Cr.Delay((()=>Cr.Return(void 0))));var i,c})),(e=>{const t=e;return console.error(T("Error processing sprite atlas JSON (GetSpriteData):"),t.message,t),Cr.Return(void 0)})):(console.error(T("Failed to load sprites.json (GetSpriteData). Status:"),t,"Content:",n),Cr.Return(void 0))})))),(()=>{lc()}),(e=>{console.error(T("Failed to load sprite atlas in entry.fs (GetSpriteData):"),e)}),(e=>{}))})();